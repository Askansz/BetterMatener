!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="44304b49-8a94-48a6-9644-bf616e2eb09c",e._sentryDebugIdIdentifier="sentry-dbid-44304b49-8a94-48a6-9644-bf616e2eb09c")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8704],{94869:function(e,t,a){"use strict";var l=a(27573),r=a(45531),n=a.n(r),s=a(90589),i=a.n(s);t.Z=e=>{let{className:t}=e;return(0,l.jsxs)("div",{className:n()(i().bar,t),children:[(0,l.jsx)("div",{}),(0,l.jsx)("div",{})]})}},69809:function(e,t,a){"use strict";a.d(t,{Z:function(){return et}});var l=a(27573),r=a(79162),n=a(92575),s=a(84946),i=a(29843),o=a(45531),d=a.n(o),c=a(7653),u=a(94869),g=a(35992),_=a(839),h=a(74934);let m=(e,t,a)=>{let l=a.toLowerCase(),r=e.getValue(t);return"number"==typeof r&&(r=String(r)),r?.toLowerCase().includes(l)},b=e=>e?.reduce((e,t)=>({...e,[t]:!1}),{}),p=e=>e.filter(e=>e.meta?.pinned).map(e=>void 0!==e.id?e.id:"accessorKey"in e&&"string"==typeof e.accessorKey?e.accessorKey:void 0).filter(h.Z.isNotNullish),j=e=>e.getIsPinned(),x=e=>{switch(e.columnDef.meta?.pinned){case"always":return 2;case"desktop":return 1;default:return 0}},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.getIsPinned();return{left:"left"===a?e.getStart("left"):void 0,position:a?"sticky":"relative",minWidth:e.getSize(),zIndex:x(e),backgroundColor:a&&!t?"var(--color-surface-base-body)":void 0}};var y=a(8230),v=a(9612),S=a.n(v),Z=e=>({id:"select",header:t=>{let{table:a}=t;return e?null:(0,l.jsx)(y.Z,{checked:a.getIsAllRowsSelected(),onChange:a.getToggleAllRowsSelectedHandler(),size:"sm"})},cell:e=>{let{row:t}=e;return(0,l.jsx)("div",{className:S().checkboxCell,role:"button",tabIndex:0,onKeyDown:e=>{"Enter"===e.key&&t.toggleSelected()},onClick:()=>{t.toggleSelected()},children:(0,l.jsx)(y.Z,{checked:t.getIsSelected(),onChange:t.getToggleSelectedHandler(),size:"sm",tabIndex:-1})})},size:49,meta:{pinned:"always",disablePadding:!0}}),F=a(59245),C=a(35725),w=a(89358);let T=[25,50,100,200],N=(e,t)=>1===e?1:(e-1)*t+1,I=e=>{let{currentPage:t,paginationSize:a,paginationResponse:l,totalNumberOfPages:r}=e;return t===r?l.total_count:t*a},A=(e,t)=>Array.from({length:t-e+1},(t,a)=>e+a),k=(e,t)=>{let a=A(1,t).filter(a=>1===a||a===t||a===e||a===e-1||a===e+1);return e>3&&a.splice(1,0,-1),e<t-2&&a.splice(a.length-1,0,-1),a};var M=a(2158),R=a.n(M),D=e=>{let{onChangeSize:t,onChangePage:a,pagination:n,paginationResponse:s}=e,i=n.page,o=n.size,c=Math.ceil(s.total_count/o),u=k(i,c);return(0,l.jsxs)("footer",{className:R().tableFooter,children:[(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:F.X.Label_SM_Regular,children:(0,C.Z)(`${N(i,o)} - ${I({currentPage:i,paginationSize:o,paginationResponse:s,totalNumberOfPages:c})}
                    av ${s.total_count}`)})}),(0,l.jsxs)("div",{className:R().tableFooter__pageSelector,children:[(0,l.jsx)("button",{type:"submit",disabled:1===i,"aria-label":(0,C.Z)("F\xf6reg\xe5ende sida"),className:R().tableFooter__page,onClick:()=>{a(i-1)},children:(0,l.jsx)(r.J,{name:"icon-chevron-left-16"})}),u.map(e=>-1===e?(0,l.jsx)("div",{className:R().tableFooter__ellipsis,children:(0,l.jsx)(r.J,{name:"icon-ellipsis-horizontal-16"})},e):(0,l.jsx)("button",{type:"button","aria-label":e.toString(),className:d()(R().tableFooter__page,R()["tableFooter__page--number"],{[R()["tableFooter__page--selected"]]:e===i}),onClick:()=>{a(e)},children:e},e)),(0,l.jsx)("button",{type:"submit","aria-label":(0,C.Z)("N\xe4sta sida"),className:R().tableFooter__page,disabled:i===c,onClick:()=>{a(i+1)},children:(0,l.jsx)(r.J,{name:"icon-chevron-right-16"})})]}),(0,l.jsxs)("div",{className:R().tableFooter__sizeSelector,children:[(0,l.jsx)("p",{className:F.X.Label_SM_Regular,children:(0,C.Z)("Rader per sida")}),(0,l.jsx)(w.Z,{"aria-label":(0,C.Z)("Antal rader per sida"),value:o,onChangeValue:e=>{t(Number(e)),a(1)},className:F.X.Inputtext_SM_Regular,size:"sm",children:T.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]})]})},P=a(25913),L=a(54697),$=a.n(L),G=e=>{let{onChangeSize:t,onChangePage:a,pagination:n,paginationResponse:s}=e,i=n.page,o=n.size,d=Math.ceil(s.total_count/o);return(0,l.jsxs)("footer",{className:$().tableFooter,children:[(0,l.jsxs)("div",{className:$().tableFooter__pagination,children:[(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:F.X.Label_SM_Regular,children:(0,C.Z)(`${N(i,o)} - ${I({currentPage:i,paginationSize:o,paginationResponse:s,totalNumberOfPages:d})}
                    av ${s.total_count}`)})}),(0,l.jsxs)("div",{className:$().tableFooter__paginationRange,children:[(0,l.jsx)(P.Z,{variant:"tertiary",size:"lg",disabled:1===i,"aria-label":(0,C.Z)("F\xf6reg\xe5ende sida"),className:F.X.Label_SM_Regular,onClick:()=>{a(i-1)},pill:!0,children:(0,l.jsx)(r.J,{name:"icon-chevron-left-24"})}),(0,l.jsx)(P.Z,{variant:"tertiary",size:"lg","aria-label":(0,C.Z)("N\xe4sta sida"),className:F.X.Label_SM_Regular,disabled:i===d,onClick:()=>{a(i+1)},pill:!0,children:(0,l.jsx)(r.J,{name:"icon-chevron-right-24"})})]})]}),(0,l.jsx)("div",{children:(0,l.jsx)(w.Z,{"aria-label":(0,C.Z)("Antal rader per sida"),value:o,onChangeValue:e=>{t(Number(e)),a(1)},className:F.X.Inputtext_SM_Regular,children:T.map(e=>(0,l.jsx)("option",{value:e,children:o===e?`Rader per sida (${e})`:e},e))})})]})},B=a(29772),z=a.n(B);let H=e=>"asc"===e?"icon-arrow-up-tiny-16":"desc"===e?"icon-arrow-down-tiny-16":"icon-chevron-up-down-16";var E=e=>{let{header:t,className:a}=e,n=t.column,i=H(n.getIsSorted()),o=n.getCanSort(),c=n.columnDef.meta?.highlight;return(0,l.jsx)("th",{colSpan:t.colSpan,"aria-label":n.columnDef.meta?.pinned==="always"?n.columnDef.meta?.ariaLabel:void 0,className:d()(a,{[z().highlighted]:c}),style:f(t.column,!0),children:t.isPlaceholder?(0,l.jsx)("div",{className:z().placeholderCell}):o?(0,l.jsxs)("button",{type:"button",onClick:n.getToggleSortingHandler(),className:d()(F.X.Label_XS_Semibold,z().sortable),children:[(0,s.ie)(n.columnDef.header,t.getContext()),(0,l.jsx)(r.J,{name:i})]}):(0,l.jsx)("div",{className:d()(F.X.Label_XS_Semibold),children:(0,s.ie)(n.columnDef.header,t.getContext())})},t.id)},Y=a(10058),X=a.n(Y);let K=["select"];var V=e=>{let{cell:t,onRowClick:a,row:r}=e,n=t.column.columnDef.meta?.highlight,i=e=>{a&&"Enter"===e.key&&a(r.original)};return K.includes(t.column.id)||t.column.columnDef.meta?.disableClick||!a?(0,l.jsx)("div",{className:d()(F.X.Label_SM_Regular,{[X().highlighted]:n}),children:(0,s.ie)(t.column.columnDef.cell,t.getContext())}):(0,l.jsx)("div",{onClick:()=>{a&&a(r.original)},onKeyDown:e=>{i(e)},role:"button",tabIndex:0,className:d()(F.X.Label_SM_Regular,{[X().highlighted]:n}),children:(0,s.ie)(t.column.columnDef.cell,t.getContext())})},J=a(49660),U=e=>{let{value:t,onChange:a}=e,{t:s}=(0,n.T_)(),[i,o]=(0,c.useState)("");return(0,c.useEffect)(()=>{o(t)},[t]),(0,c.useEffect)(()=>{let e=setTimeout(()=>{a(i)},300);return()=>{clearTimeout(e)}},[i,a]),(0,l.jsx)(J.Z,{variant:"filled",size:"sm","aria-label":s(n.ZT.Common.Search),placeholder:s(n.ZT.Common.Search),startDecorator:(0,l.jsx)(r.J,{name:"icon-magnifying-glass-16"}),value:i,onChangeValue:o})},q=a(9770),O=a.n(q),W=e=>{let{title:t,subtitle:a}=e;return(0,l.jsxs)("header",{className:O().tableHeadings,children:[(0,l.jsx)("h2",{className:F.X.Heading_XL,children:t}),a?(0,l.jsx)("h3",{className:F.X.Paragraph_SM_Regular,children:a}):null]})},Q=a(87486),ee=a.n(Q),et=(0,c.forwardRef)((e,t)=>{let{className:a,columns:o,data:h,defaultSorting:x,disableSelectAll:y=!1,enableFooter:v=!1,fullHeight:S=!1,headerContent:F,headerRight:C,headings:w,hiddenColumns:T,isLoading:N,onChangeOrder:I,onChangePage:A,onChangeQuery:k,onChangeSelected:M,onChangeSize:R,onRowClick:P,onUpdateData:L,pagination:$,paginationResponse:B,searchable:z=!0,selectable:H=!1}=e,{t:Y}=(0,n.T_)(),[X,K]=(0,c.useState)({}),[J,q]=(0,c.useState)(""),[O,Q]=(0,c.useState)(!1),[et,ea]=(0,c.useState)(x??[]),el=(0,c.useMemo)(()=>[...H?[Z(y)]:[],...o],[o,H,y]),er=(0,c.useMemo)(()=>b(T),[T]),en=p(el),es=(0,s.b7)({data:h,columns:el,initialState:{columnPinning:{left:en}},state:{globalFilter:J,sorting:et,rowSelection:X,columnVisibility:er},globalFilterFn:m,onSortingChange:ea,onGlobalFilterChange:q,getCoreRowModel:(0,i.sC)(),getFilteredRowModel:(0,i.vL)(),getSortedRowModel:(0,i.tj)(),manualSorting:!!I,manualFiltering:!!k,onRowSelectionChange:K,getRowId:e=>e.id,meta:{updateData:L,t:Y}}),ei=es.getRowCount();(0,c.useEffect)(()=>{M&&M(es.getSelectedRowModel().flatRows.map(e=>e.id))},[es,X]),(0,c.useEffect)(()=>{I&&(I(et&&et.length>0?et:[]),A?.(1))},[I,A,et]),(0,c.useEffect)(()=>{k&&(k(J),A&&A(1))},[k,A,J]),(0,c.useImperativeHandle)(t,()=>es);let eo=Object.keys(X),ed=B&&A&&R&&$,ec=ei>0&&ed,eu=e=>d()({[ee().pinnedColumn]:j(e),[ee().alwaysPinned]:e.columnDef.meta?.pinned==="always",[ee().disableBorderInlineEnd]:e.columnDef.meta?.disableBorderInlineEnd,[ee().disablePaddingInlineStart]:e.columnDef.meta?.disablePaddingInlineStart,[ee().disablePadding]:e.columnDef.meta?.disablePadding});return(0,l.jsxs)("div",{className:d()(ee().container,a,{[ee()["container--fullHeight"]]:S,[ee()["container--scrolled"]]:O}),children:[w?(0,l.jsx)(W,{title:w.title,subtitle:w.subtitle}):null,(0,l.jsxs)("div",{className:d()(ee().header,{[ee().header__reverseOrder]:F?.position==="bottom"}),children:[F?(0,l.jsx)("div",{className:ee().header__content,children:F.content}):null,(0,l.jsxs)("div",{className:ee().header__actions,children:[(0,l.jsx)("div",{children:z?(0,l.jsx)(U,{value:J,onChange:q}):null}),C]})]}),(0,l.jsxs)(_.Z,{role:"grid",className:d()(ee().scrollable,{[ee()["scrollable--empty"]]:0===ei,[ee()["scrollable--no-footer"]]:!ec}),onScroll:e=>{e.currentTarget.scrollLeft>0?Q(!0):O&&Q(!1)},children:[N?(0,l.jsx)("div",{className:ee().loadingBar,children:(0,l.jsx)(u.Z,{})}):null,(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:es.getHeaderGroups().map(e=>(0,l.jsx)("tr",{children:e.headers.map(e=>(0,l.jsx)(E,{header:e,className:eu(e.column)},e.id))},e.id))}),(0,l.jsx)("tbody",{children:es.getRowModel().rows.map(e=>(0,l.jsx)("tr",{className:d()({[ee().selected]:eo.includes(e.id)}),children:e.getVisibleCells().map(t=>(0,l.jsx)("td",{className:eu(t.column),style:f(t.column),children:(0,l.jsx)(V,{row:e,cell:t,onRowClick:P})},t.id))},e.id))}),v?(0,l.jsx)("tfoot",{children:es.getFooterGroups().map(e=>(0,l.jsx)("tr",{children:e.headers.map(e=>(0,l.jsx)("th",{children:e.isPlaceholder?null:(0,s.ie)(e.column.columnDef.footer,e.getContext())},e.id))},e.id))}):null]}),0===ei?(0,l.jsx)("div",{className:ee().empty,children:(0,l.jsx)(g.Z,{text:Y(n.ZT.Table.NoDataAvailable),icon:(0,l.jsx)(r.J,{name:"icon-charts-24"})})}):null]}),ec?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:ee().desktopFooter,children:(0,l.jsx)(D,{pagination:$,paginationResponse:B,onChangePage:A,onChangeSize:R})}),(0,l.jsx)("div",{className:ee().mobileFooter,children:(0,l.jsx)(G,{pagination:$,paginationResponse:B,onChangePage:A,onChangeSize:R})})]}):null]})})},88704:function(e,t,a){"use strict";a.d(t,{Tw:function(){return V},Sf:function(){return J},u7:function(){return M},GY:function(){return h},dp:function(){return $},OV:function(){return K},gL:function(){return N},hO:function(){return w}});var l,r,n=a(27573),s=a(96669),i=a(66221),o=a(35725),d=a(45531),c=a.n(d),u=a(85448),g=a.n(u);let _=e=>{let{label:t,variant:a,symbol:l}=e;return(0,n.jsxs)("div",{className:g().legendWrapper,children:[(0,n.jsx)("div",{className:c()(g().legend,{[g()["legend--variant-success"]]:"success"===a,[g()["legend--variant-danger"]]:"danger"===a,[g()["legend--variant-neutral"]]:"neutral"===a}),children:l}),(0,n.jsx)("p",{children:t})]})};var h=e=>{let{gradingStudentSubjects:t}=e,a=t.some(e=>"3"===e.grade),l=t.some(e=>"SAKNAS"===e.grade),r=t.some(e=>e.final_grade);return(0,n.jsxs)(s.Z,{gap:10,children:[r?(0,n.jsx)(_,{label:(0,o.Z)("Slutbetyg"),variant:"success",symbol:(0,n.jsx)(i.Z,{variant:"solid",fontAwesomeIcon:"asterisk"})}):null,l?(0,n.jsx)(_,{label:(0,o.Z)("Betygsunderlag saknas"),variant:"danger",symbol:(0,n.jsx)(i.Z,{variant:"solid",fontAwesomeIcon:"minus"})}):null,a?(0,n.jsx)(_,{label:(0,o.Z)("Anpassad studieg\xe5ng"),variant:"neutral",symbol:(0,n.jsxs)(s.Z,{gap:2,children:[(0,n.jsx)(i.Z,{variant:"solid",fontAwesomeIcon:"asterisk"}),(0,n.jsx)(i.Z,{variant:"solid",fontAwesomeIcon:"asterisk"})]})}):null]})},m=a(57748),b=a(86660),p=a(42274),j=a(29843),x=a(69809),f=a(26165),y=a(92575),v=a(7653),S=a(24297),Z=a(2560);let F=new S.on,C=async()=>(await F.listGradingSubjects({})).grading_subjects,w=()=>(0,Z.a)({queryKey:["gradingSubjects"],queryFn:C,staleTime:1/0}).data??[],T=async()=>(await F.getGradingPeriodBySchool({})).grading_period??null,N=e=>{let{data:t}=(0,Z.a)({queryKey:["gradingPeriod"],queryFn:T,staleTime:1/0,...e});return t};var I=a(12157),A=a(74934);(l=r||(r={})).M1="M1",l.M2="M2",l.ML="ML";class k{static #e=this.getGradeStatus=e=>{switch(e){case"F":case"SAKNAS":return"error";case"3":return"neutral";default:return"success"}};static #t=this.getGradingStudentSubjectTeacherUserIDs=e=>[e.teacher1_user_id,e.teacher2_user_id].filter(A.Z.isNotNullish);static #a=this.getGradingStudentSubjectTeacherUserPreviews=(e,t)=>{let a=[];for(let l of this.getGradingStudentSubjectTeacherUserIDs(e)){let e=t[l];e&&a.push(e)}return a};static #l=this.getGradingStudentTeacherSignatures=(e,t,a)=>{let l=[];for(let r of this.getGradingStudentSubjectTeacherUserPreviews(e,t)){let e=r?.signature;if(e){l.push(e);continue}let t=f.p5.getInitials(`${r.first_name} ${r.last_name}`);t&&a&&l.push(t)}return l};static #r=this.getLanguageCodeForGradingSubject=(e,t)=>{if(!e||!t)return;let a=t.school_student;switch(e.code){case"M1":return a?.modern_language_in_students_choice||void 0;case"M2":return a?.modern_language_in_language_choice||void 0;case"ML":return a?.mother_tongue||void 0;default:return}};static #n=this.getAvailableAcademicYears=()=>{let e=I.Z.getISOYear(),t=[];for(let a=parseInt("2021");a<=parseInt(e);a++)t.push(`${a}/${a+1}`);return t};static #s=this.formatAcademicYearAndTerm=(e,t)=>{let[a,l]=e.split("/");return a&&l?"HT"===t?`HT${a.slice(2)}`:`VT${l.slice(2)}`:""};static #i=this.getAvailableFormattedAcademicYearAndTerms=()=>{let e=this.getAvailableAcademicYears(),t=[];for(let a of e)t.push(this.formatAcademicYearAndTerm(a,"HT")),t.push(this.formatAcademicYearAndTerm(a,"VT"));return t};static #o=this.getAcademicYearAndTermFromFormatted=e=>{let t=e.slice(0,2),a=e.slice(2);return"HT"===t?[`20${a}/20${parseInt(a)+1}`,"HT"]:[`20${parseInt(a)-1}/20${a}`,"VT"]};static #d=this.getFormattedGrade=e=>"SAKNAS"===e?"-":e;static #c=this.getCurrentAcademicYear=()=>{let e=I.Z.getISOYear();return parseInt(I.Z.getMonth())>=7?`${e}/${parseInt(e)+1}`:`${parseInt(e)-1}/${e}`};static #u=this.getCurrentTerm=()=>parseInt(I.Z.getMonth())>=7?"HT":"VT";static #g=this.getCurrentAcademicYearAndTermFormatted=()=>this.formatAcademicYearAndTerm(this.getCurrentAcademicYear(),this.getCurrentTerm());static #_=this.getDatesForTerm=(e,t)=>{let[a]=e.split("/");if(!a)return[];if("HT"===t)return[`${a}-08-01`,`${a}-12-31`];let l=parseInt(a)+1;return[`${l}-01-01`,`${l}-06-30`]};static #h=this.sortFormattedAcademicYears=(e,t)=>{let a=e.substring(0,2),l=e.substring(2,4),r=t.substring(2,4);return l===r?"VT"===a?-1:1:parseInt(l)-parseInt(r)};static #m=this.shouldFinalGradeBeDisplayed=e=>("9"!==e.school_year||"VT"!==e.term)&&e.final_grade;static #b=this.getIsGradingSubjectLanguage=e=>!!e&&("M1"===e.code||"M2"===e.code||"ML"===e.code)}var M=k,R=e=>{let t,{gradingSubject:a,gradingStudentSubject:l,student:r,showInitials:o,users:d}=e,c=M.getGradingStudentSubjectTeacherUserPreviews(l,d),u=M.getGradingStudentTeacherSignatures(l,d,!0);if(!l.grade)return null;let g=M.getGradeStatus(l.grade),_=l.language_code_id&&M.getLanguageCodeForGradingSubject(a,r)!==l.language_code_id,h=null===l.teacher1_signature&&null===l.teacher2_signature;return t="SAKNAS"===l.grade?(0,n.jsx)(i.Z,{variant:"solid",fontAwesomeIcon:"minus"}):"3"===l.grade?(0,n.jsxs)(s.Z,{gap:2,style:{display:"inline-flex"},children:[(0,n.jsx)(i.Z,{variant:"solid",fontAwesomeIcon:"asterisk"}),(0,n.jsx)(i.Z,{variant:"solid",fontAwesomeIcon:"asterisk"})]}):l.grade,(0,n.jsxs)(n.Fragment,{children:[t?(0,n.jsx)(s.Z,{style:{blockSize:30,borderRadius:8,backgroundColor:"success"===g?"var(--old-success-color-light)":"error"===g?"var(--old-danger-color-light)":"var(--color-surface-neutral-container-light)",paddingInline:15},center:!0,children:(0,n.jsxs)("p",{style:{color:"success"===g?"var(--old-success-color)":"error"===g?"var(--old-danger-color)":void 0,fontWeight:"bold"},children:[h?"(":null,t,h?")":null,_?` (${l.language_code_id??""})`:null,M.shouldFinalGradeBeDisplayed(l)?(0,n.jsx)(i.Z,{variant:"solid",fontAwesomeIcon:"asterisk",style:{marginLeft:2}}):null]})}):null,o?(0,n.jsx)(p.Z,{title:c.map(e=>e.full_name??"").join(", "),children:(0,n.jsx)(s.Z,{style:{blockSize:30,borderRadius:8,backgroundColor:u.length?"var(--color-surface-neutral-container-lighter)":"transparent",paddingInline:15,marginBlockStart:l.grade?3:0},center:!0,children:(0,n.jsx)("p",{children:u.join(", ")})})}):null]})};let D=(0,j.Cl)(),P=e=>{let t=m.Ck.useListUserPlacementsQuery({query:{params:{in:{id:e}}},include_archived_students:!1});return{students:t.data?.user_placements??[]}},L=(e,t)=>{let a=w(),l=e.map(e=>e.student_user_id),r=e.flatMap(M.getGradingStudentSubjectTeacherUserIDs),{students:i}=P(l),d=(0,f.b1)(r);return{columns:(0,v.useMemo)(()=>[D.accessor("last_name",{header:e=>{let{table:t}=e;return t.options.meta?.t(y.ZT.Roles.Student)},cell:e=>{let{row:t}=e;return(0,n.jsxs)(s.Z,{gap:10,align:"center",children:[(0,n.jsx)(f.Yt,{user:t.original,size:"sm"}),(0,n.jsxs)(s.Z,{direction:"column",align:"flex-start",children:[(0,n.jsx)("p",{children:t.original.full_name}),t.original.school_student?.class_user_group_title?(0,n.jsx)(b.Z,{variant:"outlined",size:"xs",pill:!0,children:t.original.school_student.class_user_group_title}):null]})]})}}),...a.map(t=>D.display({header:()=>(0,n.jsx)(p.Z,{title:t.title,children:(0,n.jsx)(s.Z,{center:!0,children:t.code})}),id:t.id,cell:a=>{let{row:l}=a,r=l.original,s=e.find(e=>e.student_user_id===r.id&&e.grading_subject_id===t.id);return s?.grading_subject_id!==t.id?null:(0,n.jsx)("div",{style:{padding:5},children:(0,n.jsx)(R,{gradingStudentSubject:s,gradingSubject:t,student:r,showInitials:!0,users:d})})}})),D.display({id:"merit-points",header:(0,o.Z)("Meritpo\xe4ng"),cell:e=>{let{row:a}=e,l=a.original,r=t.find(e=>e.user_id===l.id);return r?(0,n.jsx)(s.Z,{center:!0,children:Intl.NumberFormat("sv-SE").format(r.points)}):null}})],[a,e,d,t]),students:i}};var $=e=>{let{gradingStudentSubjects:t,meritPoints:a,isLoading:l,onClickRow:r,tableHeaderRight:s}=e,{students:i,columns:d}=L(t,a);return(0,n.jsx)(x.Z,{data:i??[],onRowClick:r,columns:d,headings:{title:(0,o.Z)("Betyg")},isLoading:l,headerRight:s})},G=a(41608),B=a(69702),z=a(45957),H=a(88297);let E=(0,j.Cl)(),Y=e=>{let t=m.Ck.useGetUserPlacementQuery({user_id:e});return t.data?.user_placement},X=(e,t,a)=>{let l=(0,H.Hc)(),r=t.flatMap(M.getGradingStudentSubjectTeacherUserIDs),s=(0,f.b1)(r),i=Y(e),d=(0,v.useMemo)(()=>[...new Set(t.map(e=>M.formatAcademicYearAndTerm(e.academic_year_id,e.term)).sort(M.sortFormattedAcademicYears))],[t]);return(0,v.useMemo)(()=>[E.accessor("title",{header:e=>{let{table:t}=e;return t.options.meta?.t(y.ZT.Common.Course)},cell:e=>{let{row:t}=e,a=t.original,r=M.getLanguageCodeForGradingSubject(a,i),n=l.find(e=>e.code===r)?.name_swedish;return`${a?.title} ${n?`(${n})`:""}`},footer:()=>(0,o.Z)("Meritpo\xe4ng")}),...d.map(e=>E.display({header:e,size:150,cell:a=>{let{table:l,row:r}=a,d=t.find(t=>e===M.formatAcademicYearAndTerm(t.academic_year_id,t.term)&&t.grading_subject_id===r.original.id);if(!d)return null;let c=M.getGradingStudentSubjectTeacherUserPreviews(d,s);return(0,n.jsx)("div",{style:{paddingBlock:10,width:100},children:(0,n.jsxs)(G.ZP.Root,{children:[(0,n.jsx)(G.ZP.Target,{children:(0,n.jsx)(B.Z,{options:{type:"element"},style:{cursor:"pointer"},children:(0,n.jsx)(R,{gradingStudentSubject:d,gradingSubject:r.original,student:i,users:s})})}),(0,n.jsx)(G.ZP.Element,{children:(0,n.jsxs)(z.Z,{rounded:!0,border:!0,shadow:!0,padded:!0,style:{inlineSize:300},children:[(0,n.jsxs)("p",{children:[(0,o.Z)("\xc5rskurs: "),(0,n.jsx)("strong",{children:d.school_year??"-"})]}),d.language_code_id?(0,n.jsxs)("p",{children:[(0,o.Z)("Spr\xe5k: "),(0,n.jsx)("strong",{children:d.language_code_id})]}):null,(0,n.jsxs)("p",{children:[(0,o.Z)("Betygs\xe4ttande l\xe4rare: "),(0,n.jsx)("strong",{children:c.map(e=>`${e.first_name} ${e.last_name}`).join(", ")})]}),(0,n.jsxs)("p",{children:[(0,o.Z)("Datum f\xf6r betygss\xe4ttning: "),(0,n.jsx)("strong",{children:d.grade_date?I.Z.getISO(d.grade_date):"-"})]}),(0,n.jsxs)("p",{children:[(0,o.Z)("Slutbetyg: "),(0,n.jsx)("strong",{children:l.options.meta?.t(d.final_grade?y.ZT.Common.Yes:y.ZT.Common.No)})]}),(0,n.jsxs)("p",{children:[(0,o.Z)("L\xe4rarens kommentar: "),(0,n.jsx)("strong",{children:d.teacher_comment})]})]})})]})})},footer:()=>{let[t,l]=M.getAcademicYearAndTermFromFormatted(e),r=a.find(e=>e.academic_year_id===t&&e.term===l);return r?.points}}))],[t,a,s,i,l,d])};var K=e=>{let{userID:t,gradingStudentSubjects:a,meritPoints:l,isLoading:r}=e,{t:s}=(0,y.T_)(),i=X(t,a,l),o=w(),d=(0,v.useMemo)(()=>o.filter(e=>a.some(t=>t.grading_subject_id===e.id)),[a,o]);return(0,n.jsx)(x.Z,{headings:{title:s(y.ZT.Profile.Grades)},data:d,columns:i,isLoading:r,enableFooter:void 0!==l,headerRight:(0,n.jsx)(h,{gradingStudentSubjects:a})})};let V=[{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"},{value:"E",label:"E"},{value:"F",label:"F"},{value:"SAKNAS",label:"-"}],J=[{value:"E",label:"E"},{value:"F",label:"F"},{value:"SAKNAS",label:"-"}]},90589:function(e){e.exports={bar:"style_bar__R2yIW",start:"style_start__H2ydv",growBar1:"style_growBar1__H0Ebk",moveBar1:"style_moveBar1__SdBHs",growBar2:"style_growBar2__TSeTq",moveBar2:"style_moveBar2__Qzvhf"}},9612:function(e){e.exports={checkboxCell:"style_checkboxCell__24_WZ"}},2158:function(e){e.exports={tableFooter:"style_tableFooter__isqqT",tableFooter__pageSelector:"style_tableFooter__pageSelector__gIwwu",tableFooter__page:"style_tableFooter__page__h6fJP","tableFooter__page--number":"style_tableFooter__page--number__P6tg9","tableFooter__page--selected":"style_tableFooter__page--selected__arCcp",tableFooter__ellipsis:"style_tableFooter__ellipsis___L3oN",tableFooter__sizeSelector:"style_tableFooter__sizeSelector___NiFZ"}},54697:function(e){e.exports={tableFooter:"style_tableFooter__ojKNk",tableFooter__pagination:"style_tableFooter__pagination__YK6L1",tableFooter__paginationRange:"style_tableFooter__paginationRange__Z8q6n"}},29772:function(e){e.exports={placeholderCell:"style_placeholderCell__U7dvo",sortable:"style_sortable__4M7cS",highlighted:"style_highlighted__7o7ZH"}},10058:function(e){e.exports={highlighted:"style_highlighted__mJKRq"}},9770:function(e){e.exports={tableHeadings:"style_tableHeadings___TYfn"}},87486:function(e){e.exports={container:"style_container__LE9XI","container--fullHeight":"style_container--fullHeight___tqvD",selected:"style_selected__a1igw",disableBorderInlineEnd:"style_disableBorderInlineEnd__28vyB",disablePaddingInlineStart:"style_disablePaddingInlineStart__1rFf1",disablePadding:"style_disablePadding__JRg1r",scrollable:"style_scrollable__ByTH6","scrollable--no-footer":"style_scrollable--no-footer__agIU6","scrollable--empty":"style_scrollable--empty__AGhaG",header:"style_header__mCT9P",header__reverseOrder:"style_header__reverseOrder__181T1",header__content:"style_header__content__DwJ3F",header__actions:"style_header__actions__MHLzB",loadingBar:"style_loadingBar__ZyvfG",mobileFooter:"style_mobileFooter__NgMe0",empty:"style_empty__MhutD",pinnedColumn:"style_pinnedColumn__WD31X","container--scrolled":"style_container--scrolled__ubA98",alwaysPinned:"style_alwaysPinned__LMlgO",desktopFooter:"style_desktopFooter__TCEbk"}},85448:function(e){e.exports={legendWrapper:"style_legendWrapper__u_zZ7",legend:"style_legend__44djm","legend--variant-success":"style_legend--variant-success__26wl0","legend--variant-danger":"style_legend--variant-danger__8RgiS","legend--variant-neutral":"style_legend--variant-neutral__Vxsc3"}}}]);