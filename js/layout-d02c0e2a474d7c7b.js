!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bc3ae7f7-8eda-4333-8a3f-40d1b865766e",e._sentryDebugIdIdentifier="sentry-dbid-bc3ae7f7-8eda-4333-8a3f-40d1b865766e")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8375],{46360:function(e,t,n){Promise.resolve().then(n.bind(n,85751))},4598:function(e,t,n){"use strict";var r=n(27573),s=n(86660),a=n(70537),i=n(79162),o=n(92575),l=n(45531),c=n.n(l),d=n(7653),u=n(71837),h=n.n(u);t.Z=(0,d.memo)(e=>{let{status:t}=e,{t:n}=(0,o.T_)();if(void 0===t)return null;let l=a.l_.getTaskStatusType(t);if(void 0===l)return null;let d=c()(h().taskStatus,{[h()["taskStatus--success"]]:"success"===l.type,[h()["taskStatus--error"]]:"error"===l.type,[h()["taskStatus--warning"]]:"warning"===l.type,[h()["taskStatus--info"]]:"info"===l.type,[h()["taskStatus--neutral"]]:"neutral"===l.type,[h()["taskStatus--neutralLightest"]]:"neutral-lightest"===l.type});return(0,r.jsx)(s.Z,{variant:"filled",size:"xs",startIcon:l.iconName&&(0,r.jsx)(i.J,{name:l.iconName}),className:d,pill:!0,children:n(l.translation)})})},63670:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(27573),s=n(7653),a=n(28650),i=n(79367),o=n(12157),l=n(79162),c=n(15709),d=n(4598),u=n(27181),h=n.n(u),m=(0,s.memo)(e=>{let{task:t}=e;return(0,r.jsx)(a.Z,{className:h().tasksViewListItem,targetRouter:"react-router",href:t.workspace_id?`/education/workspaces/${t.workspace_id}/tasks/${t.id}`:`/education/tasks/${t.id}`,onClick:()=>{c.Y.trackEvent(c.Y.Event.ClicksOnTaskFromHub,{path:window.location.pathname,value:t.status})},children:(0,r.jsxs)("div",{className:h().tasksViewListItem__container,children:[(0,r.jsx)("p",{className:h().tasksViewListItem__title,children:t.title}),(0,r.jsx)("div",{className:h().columnBreak}),(0,r.jsx)(i.Z,{className:h().verticalDivider,size:16,orientation:"vertical",margin:0}),(0,r.jsx)("p",{className:h().tasksViewListItem__workspace,children:t.workspaceTitle??t.workspace_title}),t.status?(0,r.jsx)("div",{className:h().tasksViewListItem__status,children:(0,r.jsx)(d.Z,{status:t.status})}):null,(0,r.jsx)("p",{className:h().tasksViewListItem__deadline,children:t.deadline?o.Z.getISO(t.deadline):""}),(0,r.jsx)("div",{className:h().tasksViewListItem__arrow,children:(0,r.jsx)(l.J,{name:"icon-chevron-right-24"})})]})})}),_=(0,s.memo)(e=>{let{data:t}=e;return(0,r.jsx)(r.Fragment,{children:t.map(e=>(0,r.jsx)(m,{task:e},e.id))})})},85751:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return t2}});var r=n(27573),s=n(21009),a=n(35176),i=n(26165),o=n(69203),l=n(4172),c=n(11815),d=n(35725),u=n(83135),h=n(26145),m=n(93193),_=n(28650),g=n(1042),p=n(79162),f=n(92575),x=n(1424);let y=()=>{let{t:e}=(0,f.T_)(),t=(0,x.V)(),{isEmployee:n,isGuardian:r,isTeacher:a}=(0,s.ih)(),i=(0,s.zP)(),{isGuardianModeActive:o}=(0,s.Tt)(),l=i?.type_of_schooling==="Preschool",c=i?.type_of_schooling==="Elementary",d=i?.type_of_schooling==="UpperSecondary",u=[{visible:l&&a&&!o,label:e(f.ZT.Hub.BlogPostNew),icon:"icon-clipboard-24",href:"/preschool/blog-posts/create",targetRouter:"next-app-router"},{visible:(c||d)&&(n||r||t),label:e(f.ZT.Hub.Absence.New),icon:"icon-flag-outline-24",href:r||t?"/absence/student-reports/report":"/absence/reports/report",targetRouter:"react-router"}].filter(e=>e.visible);return{actions:u,shouldShowHubFab:u.length>0}};var b=n(21993),v=n.n(b);let j=()=>{let{t:e}=(0,f.T_)(),{actions:t}=y(),n=t[0];return 1===t.length&&n?(0,r.jsx)(Z,{action:n}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.Z,{size:"md",placement:"top-start",children:[(0,r.jsx)(u.Z.Target,{children:(0,r.jsx)(h.Z,{startIcon:(0,r.jsx)(p.J,{name:"icon-plus-24"}),"aria-label":e(f.ZT.Hub.Shortcuts),className:v().desktopFab})}),(0,r.jsx)(u.Z.Content,{children:t.map(e=>(0,r.jsx)(u.Z.LinkItem,{startDecorator:(0,r.jsx)(p.J,{name:e.icon}),href:e.href,targetRouter:e.targetRouter,replace:!0,children:e.label},e.href))})]}),(0,r.jsxs)(m.Z,{children:[(0,r.jsx)(m.Z.Target,{children:(0,r.jsx)(h.Z,{startIcon:(0,r.jsx)(p.J,{name:"icon-plus-24"}),"aria-label":e(f.ZT.Hub.Shortcuts),className:v().mobileFab})}),(0,r.jsxs)(m.Z.Content,{children:[(0,r.jsx)(m.Z.Header,{children:(0,r.jsx)(m.Z.Title,{children:e(f.ZT.Hub.Shortcuts)})}),(0,r.jsx)(m.Z.Body,{className:v().sheetActions,children:t.map(e=>(0,r.jsxs)(_.Z,{href:e.href,className:v().sheetActions__item,replace:!0,targetRouter:e.targetRouter,children:[(0,r.jsx)(p.J,{name:e.icon}),(0,r.jsx)("p",{children:e.label})]},e.href))})]})]})]})},Z=e=>{let{action:t}=e;return(0,r.jsx)(g.Z,{href:t.href,targetRouter:t.targetRouter,startIcon:(0,r.jsx)(p.J,{name:t.icon}),children:t.label})};var k=n(57748),C=n(66221),w=n(96669),S=n(59373),T=n(91138),N=n(12157),I=n(78723),D=n(7653),H=n(69702),P=n(45531),O=n.n(P),F=n(17287),L=n.n(F),E=Object.assign(function(e){let{padded:t,children:n}=e;return(0,r.jsx)("div",{className:O()(L().hubCard,{[L()["hubCard--padded"]]:t}),children:n})},{Item:e=>{let{children:t,...n}=e;return(0,r.jsx)(H.Z,{...n,className:L().hubCard__item,children:t})},ItemStripe:e=>{let{color:t}=e;return(0,r.jsx)("div",{className:L().hubCard__itemStripe,style:{backgroundColor:t}})}}),W=n(41218),M=n.n(W),A=function(e){let{children:t}=e;return(0,r.jsx)("div",{className:M().sectionHeader,children:t})},B=n(17560),z=n.n(B);function R(e,t,n){let r=N.Z.getISO(e.start_at);return n?`/calendar/view/user/${t}/day/${r}/${e.id}`:`/calendar/view/user/${t}/week/${N.Z.getISOWeek(r)}/${e.id}`}var $=(0,D.memo)(function(e){let{event:t,rooms:n,course:a}=e,{t:i}=(0,f.T_)(),{studentUserIDOrUserID:l}=(0,s.Tt)(),d=(0,c.dJ)().has("event_manage"),u=R(t,l,(0,o.Z)());return(0,r.jsxs)(H.Z,{options:{type:"link"},to:u,targetRouter:"react-router",className:O()(z().eventItem,{[z()["eventItem--cancelled"]]:t.canceled}),style:{backgroundColor:t.color??void 0},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(w.Z,{justify:"space-between",align:"center",gap:10,children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)("h1",{children:t.title})}),(0,r.jsx)(w.Z,{align:"center",gap:10,style:{maxWidth:300,overflow:"hidden"},justify:"space-between",children:t.room_ids?.length>0&&(0,r.jsxs)(w.Z,{gap:5,style:{backgroundColor:"transparent",maxWidth:220,overflow:"hidden",boxShadow:"none"},children:[(0,r.jsx)(C.Z,{variant:"regular",fontAwesomeIcon:"door-open"}),(0,r.jsx)(S.Z,{ellipsis:!0,children:n.map(e=>e.title).join(", ")})]})})]}),(0,r.jsxs)("p",{style:{paddingTop:0},children:[N.Z.getISOHour(t.start_at)," -"," ",N.Z.getISOHour(t.end_at)]})]}),(0,r.jsx)(w.Z,{align:"center",justify:"space-between",style:{flex:1,marginBlockStart:5,inlineSize:"100%"},children:(0,r.jsx)(w.Z,{align:t.use_attendance&&d?"flex-end":"center",justify:"space-between",style:{inlineSize:"100%"},children:a?(0,r.jsx)("div",{children:(0,r.jsx)("h3",{style:{fontWeight:600,fontSize:13},children:a.title})}):null})}),t.canceled&&(0,r.jsxs)(w.Z,{align:"center",style:{marginBlockStart:5},children:[(0,r.jsx)(C.Z,{variant:"duotone",fontAwesomeIcon:"circle-exclamation"}),(0,r.jsx)("p",{style:{fontWeight:"bold",marginInlineStart:5},children:i(f.ZT.Common.CanceledAlt)})]})]})}),U=function(){let{t:e}=(0,f.T_)(),{userID:t}=(0,s.Tt)(),n=(0,o.Z)(),[a,i]=(0,D.useState)(1),{isPending:l,isError:c,data:d}=function(e){let t=(0,D.useRef)(N.Z.getUTC()),n=I.Z.getCurrentSemester(),r=N.Z.getUTC(I.Z.getStartAndEndDateForSemester(n).startDate);return k.Jb.useListEventsForUserQuery({user_id:e,query:{params:{equals:{moderator_user_ids:e,use_attendance:!0,reported:!1,canceled:!1},greater_or_equal:{start_at:r},smaller_than:{end_at:t.current}},order_by:{start_at:{index:0,desc:!1}}}})}(t);return l||c||0===d.events.length?null:(0,r.jsxs)(E,{padded:!0,children:[(0,r.jsxs)(A,{children:[(0,r.jsxs)("h4",{children:[e(f.ZT.Attendance.ReportAttendance)," (",d.events.length,")"]}),(0,r.jsx)(C.Z,{fontAwesomeIcon:"person-walking",variant:"regular",size:14})]}),(0,r.jsxs)("div",{children:[d.events.slice(0,5*a).map(e=>(0,r.jsx)(E.Item,{targetRouter:"react-router",to:R(e,t,n),children:(0,r.jsxs)(w.Z,{justify:"space-between",align:"center",style:{inlineSize:"100%"},children:[(0,r.jsxs)(w.Z,{gap:10,align:"center",children:[(0,r.jsx)(E.ItemStripe,{color:N.Z.after(e.start_at)?"var(--old-warning-color)":"var(--old-danger-color)"}),(0,r.jsx)(S.Z,{color:"secondary",weight:500,children:e.title})]}),(0,r.jsx)(S.Z,{color:N.Z.after(e.start_at)?"warning":"danger",weight:500,size:13,children:N.Z.getISOYear(e.start_at)!==N.Z.getISOYear()?N.Z.getReadableWithTime(e.start_at):N.Z.formatHelper(e.start_at,"do MMM HH:mm")})]})},e.id)),d.events.slice(5*a).length>0?(0,r.jsx)(T.Z,{variant:"secondary",size:"md",fullWidth:!0,style:{marginBlockStart:10},onClick:()=>{i(a+1)},children:e(f.ZT.Common.LoadMore)}):null]})]})},J=n(83499),V=n(74934);let q=new J.PO;var X=function(){let{studentUserIDOrUserID:e}=(0,s.Tt)(),{t}=(0,f.T_)(),[n,a]=(0,D.useState)([]),[i,o]=(0,D.useState)({});return(0,D.useEffect)(()=>{q.listEventAttendanceReportNotifications({user_id:e,query:{params:{greater_or_equal:{created_at:N.Z.getUTC(N.Z.startOfDay(N.Z.startOfWeek()))},smaller_or_equal:{created_at:N.Z.getUTC(N.Z.endOfDay(N.Z.endOfWeek()))}}}}).then(e=>{a(e.event_attendance_report_notifications.filter(e=>!(e.confirmed_by_guardian_user_id||e.confirmed_by_employee_user_id||e.sent_sms||e.sent_email))??[])})},[e]),(0,D.useEffect)(()=>{let e=n.map(e=>e.event_id).filter(e=>!i[e]);0!==e.length&&q.listEventsByIDs({ids:e}).then(e=>{o(t=>({...t,...V.Z.convertToRecord(e.events,"id")}))})},[i,n]),n.length>0?(0,r.jsxs)(E,{padded:!0,children:[(0,r.jsx)(A,{children:(0,r.jsx)("h4",{children:t(f.ZT.Attendance.UnannouncedAbsenceWeek)})}),n.map(e=>{let t=i[e.event_id];return(0,r.jsx)(E.Item,{targetRouter:"react-router",to:`/attendee-notifications/${N.Z.getISOWeek(t?.start_at)}/${e.id}`,children:(0,r.jsx)(w.Z,{justify:"space-between",align:"center",style:{inlineSize:"100%"},children:(0,r.jsxs)(w.Z,{gap:10,align:"center",children:[(0,r.jsx)(E.ItemStripe,{color:"var(--old-danger-color)"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{style:{color:"var(--color-text-neutral-darkest)",lineHeight:1.5,fontWeight:500},children:t?.title}),(0,r.jsxs)(S.Z,{color:"secondary",size:12,style:{lineHeight:1.5},children:[N.Z.getISOHour(t?.start_at),"-",N.Z.getISOHour(t?.end_at)]})]})]})})},e.id)})]}):null},K=n(9037),Q=n(943),Y=n(12870),G=n(95158),ee=n.n(G),et=function(){let{t:e}=(0,f.T_)(),{blogPosts:t,isPending:n}=(0,Y.o)({isCalledFromHub:!0,publishStatus:"Published"}),a=s.zP()?.type_of_schooling==="Elementary";return(0,r.jsxs)("div",{className:ee().blogPosts,children:[a?(0,r.jsx)(S.Z,{variant:"h3",children:e(f.ZT.DocumentationPreschool.BlogPostsFromFritids)}):null,(0,r.jsx)(Q.lf,{blogPosts:t,isPending:n}),(0,r.jsx)(K.Z,{variant:"secondary",size:"md",href:"/preschool/blog-posts",targetRouter:"next-app-router",children:e(f.ZT.DocumentationPreschool.ViewAllPosts)})]})},en=n(26187),er=n(20941),es=n(20886),ea=n(55613),ei=n(59245),eo=n(15709),el=n(74321),ec=n.n(el),ed=n(79626),eu=n.n(ed),eh=n(42713),em=n.n(eh),e_=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:em().hubCardFooter,children:t})},eg=Object.assign(e=>{let{children:t}=e;return(0,r.jsx)("div",{className:ec().hubCard,children:t})},{Body:e=>{let{children:t,loading:n}=e;return(0,r.jsx)("div",{className:O()(eu().hubCardBody,{[eu()["hubCardBody--loading"]]:n}),children:t})},Footer:e_}),ep=n(85629),ef=n.n(ep),ex=n(63549),ey=n.n(ex),eb=Object.assign(e=>{let{children:t}=e;return(0,r.jsx)("div",{className:ef().hubCardHeader,children:t})},{Title:e=>{let{children:t}=e;return(0,r.jsx)("div",{className:ei.X.Label_MD_Bold,children:t})},Chip:e=>{let{children:t}=e;return(0,r.jsx)(r.Fragment,{children:t})},Action:e=>{let{children:t}=e;return(0,r.jsx)("div",{className:ey().hubCardAction,children:t})}}),ev=function(){let{t:e}=(0,f.T_)(),{settings:t}=(0,a.rV)(),n=t.ChildcareCalendarShowWeekend,[o,l]=(0,D.useState)(!1),{isoWeekToShow:c,dayToShow:u,dayToShowAsIsoDate:h}=function(e){let t="saturday"===(0,es.g)(N.Z.getISO())||"sunday"===(0,es.g)(N.Z.getISO());return{isoWeekToShow:e||!t?N.Z.getISOWeek():N.Z.incrementISOWeek(N.Z.getISOWeek(),1),dayToShow:e||!t?(0,es.g)(N.Z.getISO()):"monday",dayToShowAsIsoDate:e||!t?N.Z.getISO():N.Z.incrementISOWeek(N.Z.getISO(),1)}}(n),{week:m}=N.Z.isoWeekToYearAndWeek(c),_=es.QS.formatWeekSpanGrammar(c),{studentUserIDOrUserID:g}=(0,s.Tt)(),x=(0,i.dl)(g),{checkedInData:y}=(0,es.PC)(g,h),{careHoursDaysData:b,childcareCalendarUser:v,invalidateQuery:j,isPending:Z}=(0,es.Rf)({isoWeek:c,userID:g}),k=b.find(e=>e.dayName===u),C=y.data?.childcare_checkins[0],w=k?{...k,checkedIn:C}:null,S=x?(0,d.Z)(`${x.first_name}s tider`):e(f.ZT.Childcare.EditUserBase),T=(0,ea.VY)(),I=(0,en.Z)({defaultOpen:!1,afterClose:()=>{j()},onAttemptClose:()=>!T.isOpen&&(!o||(T.set({title:e(f.ZT.Childcare.AttemptCloseLabel),content:e(f.ZT.Childcare.AttemptCloseDescription),buttonText:e(f.ZT.Childcare.AttemptCloseContinue),cancelText:e(f.ZT.Childcare.AttemptCloseCancel),destructive:!0,onContinue:()=>{I.close({force:!0}),T.close()}}),T.open(),!1))});return Z||!w?null:(0,r.jsxs)(eg,{children:[(0,r.jsx)(eb,{children:(0,r.jsxs)(eb.Title,{children:[(0,r.jsx)("p",{className:ei.X.Label_MD_Bold,children:S}),(0,r.jsx)("p",{className:ei.X.Label_SM_Regular,children:(0,r.jsx)(es.OX.Label,{text:function(e,t){let n=N.Z.sameWeek(t),r=e?.orgDayData,s=r?.starts_at??"",a=r?.ends_at??"";return s&&a?f.ag.t(f.ZT.Childcare.OpeningHours({start:s,end:a})):n?f.ag.t(f.ZT.Childcare.ClosedToday):f.ag.t(f.ZT.Childcare.Closed)}(w,c),startIcon:(0,r.jsx)(p.J,{name:"icon-building-16"})})}),(0,r.jsxs)("p",{className:ei.X.Label_SM_Regular,children:[(0,r.jsx)(es.OX.Label,{text:e(f.ZT.Childcare.WeekDetails({week:String(m),timespan:_})),startIcon:(0,r.jsx)(p.J,{name:"icon-calendar-16"})}),v?.label&&(0,r.jsx)(es.OX.Label,{text:v?.label,startIcon:(0,r.jsx)(p.J,{name:"icon-user-16"})})]})]})}),(0,r.jsxs)(eg.Body,{children:[(0,r.jsx)(er.Z,{open:I.isOpen,onClose:I.close,children:(0,r.jsx)(es.OX.Manage,{selectedDayData:w,userID:g,isoWeek:c,onClose:I.close,formIsDirty:o,setFormIsDirty:l})}),b&&(0,r.jsx)(es.Ve,{isoDate:w.isoDate,careHoursDayData:w,onClick:I.open,isInHub:!0})]}),(0,r.jsx)(e_,{children:(0,r.jsx)(K.Z,{variant:"tertiary",size:"lg",targetRouter:"react-router",href:`/carehours/${c}`,onClick:()=>{eo.Y.trackEvent(eo.Y.Event.ShowAll,{path:"/hub",context:"care-hours-section",isEmployee:!1})},endIcon:(0,r.jsx)(p.J,{name:"icon-arrow-right-24"}),children:e(f.ZT.Childcare.ViewCareHours)})})]})},ej=n(79198),eZ=n(53206),ek=n(24523),eC=n(57908);function ew(e,t,n){return function(r,s){return void 0===s&&(s=n),t(e(r)+s)}}function eS(e){return function(t){return new Date(e(t).getTime()-1)}}function eT(e,t){return function(n){return[e(n),t(n)]}}function eN(e){if(e instanceof Date)return e.getFullYear();if("number"==typeof e)return e;var t=parseInt(e,10);if("string"==typeof e&&!isNaN(t))return t;throw Error("Failed to get year from date: ".concat(e,"."))}function eI(e){if(e instanceof Date)return e.getMonth();throw Error("Failed to get month from date: ".concat(e,"."))}function eD(e){if(e instanceof Date)return e.getDate();throw Error("Failed to get year from date: ".concat(e,"."))}function eH(e){if(e instanceof Date)return e.getHours();if("string"==typeof e){var t=e.split(":");if(t.length>=2){var n=t[0];if(n){var r=parseInt(n,10);if(!isNaN(r))return r}}}throw Error("Failed to get hours from date: ".concat(e,"."))}function eP(e){if(e instanceof Date)return e.getMinutes();if("string"==typeof e){var t=e.split(":");if(t.length>=2){var n=parseInt(t[1]||"0",10);if(!isNaN(n))return n}}throw Error("Failed to get minutes from date: ".concat(e,"."))}function eO(e){if(e instanceof Date)return e.getSeconds();if("string"==typeof e){var t=e.split(":");if(t.length>=2){var n=parseInt(t[2]||"0",10);if(!isNaN(n))return n}}throw Error("Failed to get seconds from date: ".concat(e,"."))}function eF(e){if(e instanceof Date)return e.getMilliseconds();if("string"==typeof e){var t=e.split(":");if(t.length>=2){var n=parseInt((t[2]||"0").split(".")[1]||"0",10);if(!isNaN(n))return n}}throw Error("Failed to get seconds from date: ".concat(e,"."))}function eL(e){var t=eN(e),n=new Date;return n.setFullYear(t+(-t+1)%100,0,1),n.setHours(0,0,0,0),n}ew(eN,eL,-100);var eE=eS(ew(eN,eL,100));function eW(e){var t=eN(e),n=new Date;return n.setFullYear(t+(-t+1)%10,0,1),n.setHours(0,0,0,0),n}ew(eN,eE,-100),ew(eN,eE,100),eT(eL,eE),ew(eN,eW,-10);var eM=eS(ew(eN,eW,10));function eA(e){var t=eN(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}ew(eN,eM,-10),ew(eN,eM,10),eT(eW,eM),ew(eN,eA,-1);var eB=eS(ew(eN,eA,1));function ez(e,t){return function(n,r){void 0===r&&(r=t);var s=eN(n),a=eI(n)+r,i=new Date;return i.setFullYear(s,a,1),i.setHours(0,0,0,0),e(i)}}function eR(e){var t=eN(e),n=eI(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}ew(eN,eB,-1),ew(eN,eB,1),eT(eA,eB),ez(eR,-1);var e$=eS(ez(eR,1));function eU(e,t){return function(n,r){void 0===r&&(r=t);var s=eN(n),a=eI(n),i=eD(n)+r,o=new Date;return o.setFullYear(s,a,i),o.setHours(0,0,0,0),e(o)}}function eJ(e){var t=eN(e),n=eI(e),r=eD(e),s=new Date;return s.setFullYear(t,n,r),s.setHours(0,0,0,0),s}ez(e$,-1),ez(e$,1),eT(eR,e$),eU(eJ,-1);var eV=eS(eU(eJ,1));function eq(e){var t=e.angle,n=e.name,r=e.length,s=e.oppositeLength,a=e.width;return D.createElement("div",{className:"react-clock__hand react-clock__".concat(n,"-hand"),style:{transform:"rotate(".concat(void 0===t?0:t,"deg)")}},D.createElement("div",{className:"react-clock__hand__body react-clock__".concat(n,"-hand__body"),style:{width:"".concat(void 0===a?1:a,"px"),top:"".concat(50-(void 0===r?100:r)/2,"%"),bottom:"".concat(50-(void 0===s?10:s)/2,"%")}}))}function eX(e){var t=e.angle,n=void 0===t?0:t,r=e.length,s=void 0===r?10:r,a=e.name,i=e.width,o=e.number;return D.createElement("div",{className:"react-clock__mark react-clock__".concat(a,"-mark"),style:{transform:"rotate(".concat(n,"deg)")}},D.createElement("div",{className:"react-clock__mark__body react-clock__".concat(a,"-mark__body"),style:{width:"".concat(void 0===i?1:i,"px"),top:0,bottom:"".concat(100-s/2,"%")}}),o?D.createElement("div",{className:"react-clock__mark__number",style:{transform:"rotate(-".concat(n,"deg)"),top:"".concat(s/2,"%")}},o):null)}eU(eV,-1),eU(eV,1),eT(eJ,eV);var eK=function(){return(eK=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},eQ=(0,D.memo)(function(e){return D.createElement(eX,eK({},e))}),eY=n(60967);function eG(e){return"string"==typeof e}function e0(e,t,n){return n.indexOf(e)===t}function e1(e){return -1===e.indexOf(",")?e:e.split(",")}var e2=eY(function(e){var t=void 0===e?{}:e,n=t.useFallbackLocale,r=t.fallbackLocale,s=[];if("undefined"!=typeof navigator){for(var a=navigator.languages||[],i=[],o=0;o<a.length;o++){var l=a[o];i=i.concat(e1(l))}var c=navigator.language,d=c?e1(c):c;s=s.concat(i,d)}return(void 0===n||n)&&s.push(void 0===r?"en-US":r),s.filter(eG).map(function e(t){if(!t)return t;if("C"===t||"posix"===t||"POSIX"===t)return"en-US";if(-1!==t.indexOf(".")){var n=t.split(".")[0],r=void 0===n?"":n;return e(r)}if(-1!==t.indexOf("@")){var s=t.split("@")[0],r=void 0===s?"":s;return e(r)}if(-1===t.indexOf("-")||t.toLowerCase()!==t)return t;var a=t.split("-"),i=a[0],o=a[1];return"".concat(i,"-").concat((void 0===o?"":o).toUpperCase())}).filter(e0)},{cacheKey:JSON.stringify}),e5=eY(function(e){return e2(e)[0]||null},{cacheKey:JSON.stringify}),e6=function(){return(e6=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},e7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n},e3=(0,D.memo)(function(e){var t=e.formatHour,n=e.locale,r=e.number,s=e7(e,["formatHour","locale","number"]);return D.createElement(eX,e6({number:r?(void 0===t?function(e,t){return t.toLocaleString(e||e5()||void 0)}:t)(n,r):null},s))});function e9(e,t){return function(n,r,s){var a=n[r];if(void 0!==a){if("number"!=typeof a)return Error("Invalid prop `".concat(r,"` of type `").concat(typeof a,"` supplied to `").concat(s,"`, expected `number`."));if(a<e||a>t)return Error("Invalid prop `".concat(r,"` of type `").concat(typeof a,"` supplied to `").concat(s,"`, length must be between ").concat(e," and ").concat(t,"."))}return null}}var e4=e9(0,100),e8=e9(-100,100),te=function(e,t,n){var r=e[t];if(void 0!==r){if("number"!=typeof r)return Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, expected `number`."));if(r<0)return Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, width must be greater or equal to 0."))}return null},tt=function(e){var t,n=e.className,r=e.formatHour,s=e.hourHandLength,a=e.hourHandOppositeLength,i=e.hourHandWidth,o=e.hourMarksLength,l=void 0===o?10:o,c=e.hourMarksWidth,d=void 0===c?3:c,u=e.locale,h=e.minuteHandLength,m=void 0===h?70:h,_=e.minuteHandOppositeLength,g=e.minuteHandWidth,p=void 0===g?2:g,f=e.minuteMarksLength,x=void 0===f?6:f,y=e.minuteMarksWidth,b=void 0===y?1:y,v=e.renderHourMarks,j=void 0===v||v,Z=e.renderMinuteHand,k=void 0===Z||Z,C=e.renderMinuteMarks,w=void 0===C||C,S=e.renderNumbers,T=e.renderSecondHand,N=void 0===T||T,I=e.secondHandLength,H=void 0===I?90:I,P=e.secondHandOppositeLength,O=e.secondHandWidth,F=void 0===O?1:O,L=e.size,E=void 0===L?150:L,W=e.useMillisecondPrecision,M=e.value;return D.createElement("time",{className:(0,eC.Z)("react-clock",n),dateTime:M instanceof Date?M.toISOString():M||void 0,style:{width:E,height:E}},D.createElement("div",{className:"react-clock__face"},function(){if(!w)return null;for(var e=[],t=1;t<=60;t+=1)j&&!(t%5)||e.push(D.createElement(eQ,{key:"minute_".concat(t),angle:6*t,length:x,name:"minute",width:b}));return e}(),function(){if(!j)return null;for(var e=[],t=1;t<=12;t+=1)e.push(D.createElement(e3,{key:"hour_".concat(t),angle:30*t,formatHour:r,length:l,locale:u,name:"hour",number:S?t:void 0,width:d}));return e}()),(t=M?30*eH(M)+eP(M)/2+eO(M)/120+(W?eF(M)/12e4:0):0,D.createElement(eq,{angle:t,length:void 0===s?50:s,name:"hour",oppositeLength:a,width:void 0===i?4:i})),function(){if(!k)return null;var e=M?360*eH(M)+6*eP(M)+eO(M)/10+(W?eF(M)/1e4:0):0;return D.createElement(eq,{angle:e,length:m,name:"minute",oppositeLength:_,width:p})}(),function(){if(!N)return null;var e=M?360*eP(M)+6*eO(M)+(W?.006*eF(M):0):0;return D.createElement(eq,{angle:e,length:H,name:"second",oppositeLength:P,width:F})}())};tt.propTypes={className:ek.oneOfType([ek.string,ek.arrayOf(ek.string)]),formatHour:ek.func,hourHandLength:e4,hourHandOppositeLength:e8,hourHandWidth:te,hourMarksLength:e4,hourMarksWidth:te,locale:ek.string,minuteHandLength:e4,minuteHandOppositeLength:e8,minuteHandWidth:te,minuteMarksLength:e4,minuteMarksWidth:te,renderHourMarks:ek.bool,renderMinuteHand:ek.bool,renderMinuteMarks:ek.bool,renderNumbers:ek.bool,renderSecondHand:ek.bool,secondHandLength:e4,secondHandOppositeLength:e8,secondHandWidth:te,size:ek.oneOfType([ek.number,ek.string]),value:ek.oneOfType([ek.string,ek.instanceOf(Date)])};var tn=n(75051),tr=n.n(tn);function ts(){let e=(0,ej.Z)();return(0,r.jsx)("div",{className:tr().clock,children:(0,r.jsx)(tt,{size:100,value:e})})}function ta(){let e=(0,ej.Z)(),t=N.Z.getFullHour(e),n=N.Z.getFullMinute(e);return(0,r.jsx)("h3",{children:`${t}:${n}`})}var ti=function(){let{t:e}=(0,f.T_)(),t=N.Z.getMonthname(),n=N.Z.getWeek(),s=eZ.Z.capitalize(N.Z.getDayname()),a=N.Z.getDaySuffix();return(0,r.jsx)(E,{padded:!0,children:(0,r.jsxs)("div",{className:tr().dateSection,children:[(0,r.jsx)(ts,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:e(f.ZT.Time.Today)}),(0,r.jsx)(ta,{}),(0,r.jsxs)("p",{children:[s,", ",`${a} ${t}`]}),(0,r.jsx)("p",{children:e(f.ZT.Common.WeekNumber({week:n}))})]})]})})},to=n(24297),tl=n(2560),tc=n(18591),td=n(94730),tu=n(49811),th=n(65880),tm=function(e){let{events:t,rooms:n,courses:a,day:i,date:o,loading:l}=e,{t:c}=(0,f.T_)(),d=(0,s.a9)(),u=t.filter(e=>1===tc.i.getEventStatus(e,o)).sort((e,t)=>N.Z.getUnix(e.start_at)-N.Z.getUnix(t.start_at)),h=t.filter(e=>0===tc.i.getEventStatus(e,o)).sort((e,t)=>N.Z.getUnix(e.start_at)-N.Z.getUnix(t.start_at));return l?(0,r.jsxs)(E,{padded:!0,children:[(0,r.jsx)(S.Z,{variant:"h3",weight:700,color:"theme",style:{paddingBlockEnd:10},children:c(f.ZT.Hub.LoadingLessons)}),(0,r.jsx)(w.Z,{gap:10,direction:"column",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsx)(td.Z,{variant:"rect",width:"100%",index:t,multiplier:.1,style:{marginBottom:0},height:70,borderRadius:12},t))})]}):(0,r.jsx)(E,{padded:!0,children:u?.length===0&&h?.length===0&&t?.length>0?(0,r.jsxs)(w.Z,{center:!0,direction:"column",children:[(0,r.jsx)(th.default,{src:tu.Z.Friendship,alt:"No events illustration",width:208}),(0,r.jsx)("h4",{style:{paddingTop:16,fontWeight:400,fontSize:"1.2em",color:"var(--color-text-neutral-darkest)",textAlign:"center"},children:d?c(f.ZT.Hub.UserHasNoMoreEventsToday({name:d.first_name})):N.Z.isFriday()?c(f.ZT.Hub.NoMoreEventsTodayWeekend):c(f.ZT.Hub.NoMoreEventsToday)})]}):t?.length===0?(0,r.jsxs)(w.Z,{center:!0,direction:"column",children:[(0,r.jsx)(th.default,{src:tu.Z.Friendship,alt:"No events illustration",width:208}),(0,r.jsx)("h4",{style:{paddingTop:16,fontWeight:400,fontSize:"1.2em",color:"var(--color-text-neutral-darkest)",textAlign:"center"},children:d?N.Z.sameDay(i,o)?c(f.ZT.Hub.UserHasNoEventsToday({name:d.first_name})):c(f.ZT.Hub.UserHasNoEventsTomorrow({name:d.first_name})):N.Z.sameDay(i,o)?c(f.ZT.Hub.NoEventsToday):c(f.ZT.Hub.NoEventsTomorrow)})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S.Z,{variant:"h3",weight:600,color:"theme",style:{paddingBlockEnd:10},children:c(N.Z.sameDay(o,h[0]?.start_at)||u?.length!==0?f.ZT.Hub.EventsToday:f.ZT.Hub.EventsTomorrow)}),u?.length>0&&u[0]&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S.Z,{variant:"h5",weight:600,color:"secondary",style:{paddingBlockEnd:10},children:c(f.ZT.Hub.CurrentEvent)}),u.map(e=>(0,r.jsx)($,{event:e,rooms:n.filter(t=>e.room_ids.includes(t.id)),course:a.find(t=>t.id===e.course_id)},e.id))]}),h?.length>0&&(0,r.jsxs)(r.Fragment,{children:[(N.Z.sameDay(o,h[0]?.start_at)||u?.length>0)&&(0,r.jsx)(S.Z,{variant:N.Z.sameDay(o,h[0]?.start_at)?"h5":"h3",weight:N.Z.sameDay(o,h[0]?.start_at)?500:600,color:N.Z.sameDay(o,h[0]?.start_at)?"secondary":"theme",style:{paddingBlockEnd:10},children:N.Z.sameDay(o,h[0]?.start_at)?c(f.ZT.Hub.NextEventStartsIn({time:N.Z.getTimeDistance(o,h[0]?.start_at)})):c(f.ZT.Hub.EventsTomorrow)}),h?.map((e,t)=>r.jsxs(r.Fragment,{children:[1===t&&!N.Z.sameDay(o,e?.start_at)&&N.Z.sameDay(o,h[0]?.start_at)&&r.jsx(S.Z,{variant:"h5",weight:500,color:"secondary",style:{paddingBlockEnd:10},children:c(f.ZT.Hub.EventsTomorrow)}),r.jsx($,{event:e,rooms:n.filter(t=>e.room_ids.includes(t.id)),course:a.find(t=>t.id===e.course_id)},e?.id)]}))]})]})})};let t_=new to.NF,tg=()=>{let{studentUserIDOrUserID:e}=(0,s.Tt)(),t=k.Jb.useListEventsForUserQuery({user_id:e,query:{params:{greater_or_equal:{start_at:N.Z.getUTC(N.Z.startOfDay())},smaller_or_equal:{end_at:N.Z.getUTC(N.Z.endOfDay(N.Z.incrementDay()))}}}}),n=t.data?.events.flatMap(e=>e.room_ids)??[],r=k.T4.useListOrganizationRoomsQuery({query:{params:{in:{id:n}}}}),a=t.data?.events.map(e=>e.course_id).filter(V.Z.isNotNullish)??[],i=(0,tl.a)({queryKey:["courses",a],queryFn:async()=>t_.listByIDs({ids:a})});return{events:t.data?.events??[],rooms:r.data?.organization_rooms??[],courses:i.data?.courses??[],isLoading:t.isPending||r.isPending||i.isPending}};var tp=()=>{let e=(0,ej.Z)(6e4),{events:t,rooms:n,courses:s,isLoading:a}=tg(),i=(0,D.useMemo)(()=>t.filter(t=>N.Z.isSunday()||N.Z.before(e,N.Z.set(e,{hours:21,minutes:0,seconds:0}))?N.Z.sameDay(N.Z.getISO(t.start_at),e):N.Z.sameDay(N.Z.getISO(t.start_at),e)||N.Z.sameDay(N.Z.getISO(t.start_at),N.Z.incrementDay(e)))??[],[t,e]);return(0,r.jsx)(tm,{date:e,loading:a,day:N.Z.getISO(e),events:i,rooms:n,courses:s})},tf=n(44135),tx=n(37878),ty=n(52211),tb=n.n(ty);let tv=new to.Qc;var tj=function(){let{t:e}=(0,f.T_)(),[t,n]=(0,D.useState)(),s=(0,D.useMemo)(()=>N.Z.isSaturday()?N.Z.incrementDay(new Date,2):N.Z.isSunday()?N.Z.incrementDay(new Date,1):N.Z.getISO(),[]);return((0,D.useEffect)(()=>{tv.getByTimespan({from_date:s,to_date:s}).then(e=>{n(e.meals[0])})},[s]),t?.description.text)?(0,r.jsxs)(E,{padded:!0,children:[(0,r.jsxs)(A,{children:[(0,r.jsx)("h4",{children:e(N.Z.isSunday()||N.Z.isSaturday()?f.ZT.Hub.MealsNextWeek:f.ZT.Hub.MealsToday)}),(0,r.jsx)(C.Z,{fontAwesomeIcon:"utensils",variant:"duotone"})]}),(0,r.jsx)("div",{className:tb().mealItem,children:(0,r.jsx)(w.Z,{align:"center",style:{paddingLeft:"10px",borderLeft:"2px solid var(--color-border-primary-brand-darkest)",whiteSpace:"pre-line"},children:t.description?(0,r.jsx)(tx.Z,{content:t.description.content}):(0,r.jsx)("p",{children:e(f.ZT.Hub.NoMeals)})})}),(0,r.jsxs)(w.Z,{align:"center",justify:"end",gap:10,children:[(0,r.jsx)(S.Z,{variant:"h6",color:"secondary",children:e(N.Z.isSunday()||N.Z.isSaturday()?f.ZT.Hub.MealsNextWeek:f.ZT.Hub.MealsThisWeek)}),(0,r.jsx)(tf.Z,{"aria-label":(0,d.Z)("Visa matsedel"),variant:"tertiary",size:"sm",href:`/hub/meals/${N.Z.getISOWeek(s)}/`,children:(0,r.jsx)(p.J,{name:"icon-cutout-frame-24"})})]})]}):null},tZ=n(45957),tk=n(47382),tC=n.n(tk);let tw=new to.ez;var tS=function(){let{t:e}=(0,f.T_)(),[t,n]=(0,D.useState)([]),[s,a]=(0,D.useState)(!1),o=(0,i.b1)(t.map(e=>e.sender_id));return(0,D.useEffect)(()=>{tw.listFeedForUser({query:null,only_unread:!0,pagination:{page:1,size:5}}).then(e=>{n(e.messages),a(e.pagination_response.total_count>5)})},[]),t?.length>0?(0,r.jsxs)(tZ.Z,{rounded:!0,padded:!0,border:!0,children:[(0,r.jsxs)(A,{children:[(0,r.jsx)("h4",{children:e(f.ZT.Common.UnreadInformation)}),(0,r.jsx)(C.Z,{variant:"duotone",fontAwesomeIcon:"newspaper"})]}),(0,r.jsx)(w.Z,{direction:"column",gap:10,children:t.map(t=>{let n=o[t.sender_id];return(0,r.jsx)(tZ.Z,{border:!0,rounded:!0,style:{paddingBlock:"10px",paddingInline:"15px"},children:(0,r.jsxs)(w.Z,{direction:"row",justify:"space-between",style:{alignItems:"center"},children:[(0,r.jsxs)(w.Z,{direction:"column",style:{alignItems:"flex-start",overflow:"hidden"},justify:"space-between",children:[(0,r.jsx)("h3",{className:tC().newsTitle,children:t?.feed?.title}),(0,r.jsxs)(S.Z,{color:"secondary",size:12,children:[(0,r.jsx)("strong",{children:n?.full_name})," - ",N.Z.getISO(t?.created_at)]})]}),(0,r.jsx)(K.Z,{variant:"tertiary",size:"sm",targetRouter:"react-router",href:`/communication/feed/${t.id}`,children:e(f.ZT.Common.Show)})]})},t.id)})}),s?null:(0,r.jsx)(K.Z,{variant:"secondary",size:"md",href:"/communication/feed",targetRouter:"react-router",fullWidth:!0,style:{marginBlockStart:10},children:e(f.ZT.Common.ReadMore)})]}):null},tT=n(35992),tN=n(2278),tI=n(58210),tD=n.n(tI),tH=function(){let{t:e}=(0,f.T_)(),{notes:t,isPending:n,refetch:s}=(0,tN.WC)({limit:5}),a=k.P0.useUpdateNoteMutation({onSuccess:()=>{s()}});return(0,r.jsxs)(eg,{children:[(0,r.jsxs)(eb,{children:[(0,r.jsx)(eb.Title,{children:e(f.ZT.Note.Notes)}),(0,r.jsx)(eb.Action,{children:(0,r.jsx)(K.Z,{variant:"secondary",size:"sm",href:"/profile/notes",targetRouter:"react-router",endIcon:(0,r.jsx)(p.J,{name:"icon-arrow-right-16"}),children:e(f.ZT.Common.ShowAll)})})]}),(0,r.jsx)(eg.Body,{loading:n,children:(0,r.jsxs)("div",{className:tD().notes__body,children:[t.length>0?t.map(t=>(0,r.jsxs)("div",{className:tD().noteItem,children:[(0,r.jsx)(H.Z,{className:tD().noteItem__inner,to:`/hub/notes/${t.id}`,children:(0,r.jsx)("p",{children:t.title})}),(0,r.jsx)("div",{className:tD().noteItem__options,children:(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(u.Z.Target,{}),(0,r.jsxs)(u.Z.Content,{children:[(0,r.jsx)(u.Z.LinkItem,{href:`/hub/notes/${t.id}/update`,startDecorator:(0,r.jsx)(p.J,{name:"icon-pencil-16"}),children:e(f.ZT.Note.Edit)}),(0,r.jsx)(u.Z.Item,{onClick:()=>{a.mutate({id:t.id,done:!0})},startDecorator:(0,r.jsx)(p.J,{name:"icon-checkmark-circle-fill-16"}),children:e(f.ZT.Note.MarkAsDone)})]})]})})]},t.id)):null,0===t.length?(0,r.jsx)("div",{className:tD().emptyState,children:(0,r.jsx)(tT.Z,{icon:(0,r.jsx)(p.J,{name:"icon-document-xmark-24"}),text:e(f.ZT.Task.NoTasks)})}):null,(0,r.jsx)(K.Z,{variant:"secondary",size:"md",href:"/hub/notes/create",startIcon:(0,r.jsx)(p.J,{name:"icon-plus-16"}),children:e(f.ZT.Note.New)})]})})]})},tP=n(4192),tO=n(39063),tF=n(41608),tL=n(98138),tE=n(80549),tW=n(14207),tM=e=>{let{checkinWithComment:t,updateComment:n}=e,{form:s}=(0,tW.cI)({defaultValues:{comment:t?.guardian_comment}}),{t:a}=(0,f.T_)(),[i,o]=(0,D.useState)(!1),l=(0,D.useRef)(null);return(0,r.jsxs)(tF.ZP.Root,{open:i,onChangeOpen:o,children:[(0,r.jsx)(tF.ZP.Target,{children:(0,r.jsx)(T.Z,{size:"sm",variant:"secondary",startIcon:(0,r.jsx)(p.J,{name:t?.guardian_comment?"icon-comment-lines-fill-16":"icon-comment-bolt-16"}),children:a(f.ZT.Common.Comment)})}),(0,r.jsx)(tF.ZP.Element,{children:(0,r.jsx)(tZ.Z,{padded:!0,border:!0,rounded:!0,style:{minInlineSize:300},children:(0,r.jsxs)(tL.Z,{onSubmit:s.handleSubmit(e=>{n(e.comment??""),o(!1)}),children:[(0,r.jsx)(tE.Z,{...s.register("comment"),placeholder:(0,d.Z)("Skriv en kommentar till skolan"),label:(0,d.Z)("Din snabbkommentar"),onSubmitValue:()=>{l.current?.click()},minRows:3}),(0,r.jsx)(T.Z,{variant:"primary",size:"md",fullWidth:!0,type:"submit",style:{marginBlockStart:10},children:(0,d.Z)("Spara snabbkommentar")})]})})})]})},tA=n(22151),tB=n.n(tA),tz=e=>{let{checkinWithComment:t,deadlines:n}=e,{t:s}=(0,f.T_)();return(0,r.jsxs)(r.Fragment,{children:[t.comment?(0,r.jsxs)("div",{className:tB().childcareCommentBox,children:[(0,r.jsxs)(w.Z,{align:"center",gap:5,children:[(0,r.jsx)(C.Z,{variant:"solid",fontAwesomeIcon:"circle-exclamation",color:"warning"}),(0,r.jsx)(S.Z,{weight:"bold",color:"warning",children:s(f.ZT.Childcare.CommentFromSchool)})]}),(0,r.jsx)("p",{children:t.comment})]}):null,n.length>0&&n.map(t=>(0,r.jsxs)("div",{className:tB().childcareCommentBox,children:[(0,r.jsx)(S.Z,{size:14,color:"warning",children:(0,d.Z)(`Sista dagen att anm\xe4la tider till vecka ${t.week}`)}),(0,r.jsx)(T.Z,{variant:"primary",size:"sm",onClick:()=>{e.confirmWeek(t.week)},style:{marginBlock:10},children:(0,d.Z)("Bekr\xe4fta tider")})]},t.lastDayToTurnIn))]})},tR=(0,D.memo)(e=>{let{calendarWeek:t,onAbsenceClick:n,openingHours:a,isoDate:i,dayIndex:o,updateComment:l,hasAbsence:c,checkinWithComment:u,deadlines:h,confirmWeek:m,baseWeek:_,baseOpeningHours:g,loading:p}=e,f=(0,s.zP)(),x=h.filter(e=>e.lastDayToTurnIn===i),y=es.c1[o],b=y&&t?es.QS.getChildcareWeekday(t,y,_):void 0,v=!!b&&es.QS.isClosed(b.dayName,a),j=!!b&&!!b.startsAt&&!!b.endsAt,Z=!v&&f?.type_of_schooling==="Preschool"&&j,{startsAtValid:k,endsAtValid:C}=b?es.QS.weekDayOutsideOpeningHours({startsAt:b.startsAt,endsAt:b?.endsAt,dayName:b.dayName,openingHours:a,baseOpeningHours:g}):{startsAtValid:!0,endsAtValid:!0},I=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v?"danger":!e||k||C?void 0:"warning"},D=I(),H=I(!0);return(0,r.jsxs)(tZ.Z,{rounded:!0,border:!0,style:{flexDirection:"column",display:"flex",paddingInline:15,backgroundColor:"danger"===D?"var(--old-danger-color-light)":"warning"===D?"var(--old-warning-color-light)":void 0,borderColor:"danger"===H?"var(--old-danger-color)":"warning"===H?"var(--old-warning-color)":void 0,padding:15},children:[(0,r.jsxs)(w.Z,{gap:5,justify:"space-between",align:Z?"center":void 0,children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(S.Z,{weight:600,size:15,children:[eZ.Z.capitalize(N.Z.getDaynameShort(i))," "]}),(0,r.jsx)(S.Z,{size:"12",color:"secondary",children:i}),p?(0,r.jsx)(td.Z,{variant:"text",style:{marginBottom:0,marginTop:2},height:12,useMinimumTime:!1,width:85}):b&&(0,r.jsx)(tO.Z,{style:{fontSize:14,fontWeight:500},errorStyle:{color:"var(--color-text-feedback-error-darkest)"},noTimes:!_&&!t?.id,closed:v,day:b,baseOpeningHours:g,openingHours:a})]}),!v&&!p&&(0,r.jsxs)(w.Z,{direction:"column",gap:10,align:"flex-end",children:[Z?(0,r.jsx)(T.Z,{onClick:n,destructive:c,size:"sm",variant:"secondary",children:(0,d.Z)(c?"Ta bort fr\xe5nvaro":"Anm\xe4l fr\xe5nvaro")}):null,(0,r.jsx)(tM,{checkinWithComment:u,updateComment:l})]})]}),(0,r.jsx)(tz,{confirmWeek:m,checkinWithComment:u,openingHours:a,deadlines:x})]})}),t$=function(){let{t:e}=(0,f.T_)(),{studentUserIDOrUserID:t}=(0,s.Tt)(),n=N.Z.isSunday()||N.Z.isSaturday()?N.Z.incrementISOWeek(N.Z.getISOWeek(),1):N.Z.getISOWeek(),[a,i]=(0,D.useState)(n),o=N.Z.getISOWeekdays(a||N.Z.getISOWeek()).filter(e=>!N.Z.isSaturday(e)&&!N.Z.isSunday(e)),l=o[0],c=o[o.length-1],u=Number(N.Z.getWeek(a)),h=Number(N.Z.getFullYear(N.Z.parseISOWeek(a))),{setCheckinAbsence:m,updateCommment:_,getCheckinCommentFromDay:g,hasDateCheckinAbsence:p}=(0,es.H9)(t,l||N.Z.getISO(),c||N.Z.getISO()),{childcareCalendars:x,childcareCalendarBase:y,childcareCalendarUsers:b,childcareCalendarUserBase:v,confirmWeekTimes:j,isLoading:Z}=(0,es.p5)({userID:t,fromWeek:u,toWeek:52,year:Number(h)}),k=(0,D.useMemo)(()=>b.find(e=>e.week===u&&e.year===h),[b,u,h]),C=(0,D.useMemo)(()=>x?x.find(e=>e.week===u&&e.year===h):y,[x,y,u,h]),T=es.QS.getDeadlinesInIsoWeek(x??[],a,b),I=e=>{let t=m(!p(e),e);ea.FN.promise(t,(0,d.Z)("Sparat"))},H=(e,t)=>{let n=_(t,e);ea.FN.promise(n,(0,d.Z)("Sparade kommentaren"))};return(0,r.jsxs)(tZ.Z,{padded:!0,rounded:!0,border:!0,style:{marginBottom:10},children:[(0,r.jsxs)(w.Z,{justify:"space-between",align:"center",gap:5,children:[(0,r.jsxs)(w.Z,{direction:"column",children:[(0,r.jsx)("p",{style:{fontWeight:"bold"},children:e(f.ZT.Preschool.ChildSchedule)}),(0,r.jsxs)(S.Z,{size:12,color:"secondary",children:[e(f.ZT.Common.Week)," ",N.Z.getWeek(a)]})]}),(0,r.jsx)(tP.Z,{onDecrement:()=>{i(N.Z.decrementISOWeek(a))},onToday:()=>{i(n)},onIncrement:()=>{i(N.Z.incrementISOWeek(a))},decrementTooltip:e(f.ZT.Date.PreviousWeek),incrementTooltip:e(f.ZT.Date.NextWeek)})]}),(0,r.jsxs)(w.Z,{direction:"column",gap:10,style:{marginBlockStart:10},children:[o.map((e,t)=>{let n=p(e),s=g(e)??{};return(0,r.jsx)(tR,{updateComment:t=>{H(e,t)},dayIndex:t,calendarWeek:k,openingHours:C??{},loading:Z,baseWeek:v,isoDate:e,deadlines:T,baseOpeningHours:y,confirmWeek:j,hasAbsence:n,checkinWithComment:s,onAbsenceClick:()=>{I(e)}},e)}),(0,r.jsx)(K.Z,{variant:"primary",size:"md",href:`/student-profile/${es.Mb.UserCalendarUrl}`,children:e(f.ZT.Preschool.EditChildSchedule)})]})]})},tU=n(78882),tJ=()=>{let{t:e}=(0,f.T_)(),{workspaces:t,fetchNextPage:n,hasNextPage:s,isLoading:a}=function(){let e=k.C1.useListWorkspacesForReviewInfiniteQuery(e=>({query:{offset:e,limit:5,params:{empty:{archive_year:!0}}}}));return{workspaces:e.data?.pages.flatMap(e=>e.workspaces)??[],fetchNextPage:e.fetchNextPage,hasNextPage:e.hasNextPage,isLoading:e.isPending}}();return 0===t.length?null:(0,r.jsxs)(E,{padded:!0,children:[(0,r.jsx)(A,{children:(0,r.jsx)("h4",{children:e(f.ZT.Hub.SubmissionsToAssess)})}),(0,r.jsxs)("div",{children:[t.map(e=>{let t=tU.K0.getColor(e);return(0,r.jsxs)(E.Item,{to:`/education/workspaces/${e.id}/tasks`,targetRouter:"react-router",children:[(0,r.jsxs)(w.Z,{gap:10,align:"center",children:[(0,r.jsx)(E.ItemStripe,{color:t}),(0,r.jsx)(S.Z,{color:"secondary",weight:500,children:e.title})]}),(0,r.jsx)("div",{style:{width:20,height:20,borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,fontWeight:600,backgroundColor:t},children:e.task_submissions_to_review})]},e.id)}),s?(0,r.jsx)(T.Z,{variant:"secondary",size:"md",fullWidth:!0,loading:a,onClick:async()=>n(),style:{marginBlockStart:10},children:e(f.ZT.Common.LoadMore)}):null]})]})},tV=n(2393),tq=n(76863),tX=n(63670),tK=n(74705),tQ=n(13280),tY=n.n(tQ),tG=function(){let{studentUserIDOrUserID:e}=(0,s.Tt)(),{data:t,isPending:n,totalCount:a}=(0,tK.Z)({userID:e,withoutCompleted:!0,limit:5,startFromCurrentWeeksMonday:!0,order:"asc"}),{t:i}=(0,f.T_)();return(0,r.jsxs)(eg,{children:[(0,r.jsxs)(eb,{children:[(0,r.jsx)(eb.Title,{children:i(f.ZT.Task.MyTasks)}),(0,r.jsx)(eb.Chip,{children:a>0?(0,r.jsx)(tV.Z,{variant:"neutral-lighter",count:a}):null}),(0,r.jsx)(eb.Action,{children:(0,r.jsx)(K.Z,{variant:"secondary",size:"sm",href:"/education/tasks",onClick:()=>{eo.Y.trackEvent(eo.Y.Event.ShowAll,{path:"/hub",context:"task-section"})},endIcon:(0,r.jsx)(p.J,{name:"icon-arrow-right-16"}),children:i(f.ZT.Common.ShowAll)})})]}),(0,r.jsxs)(eg.Body,{loading:n,children:[0===t.tasks.length?(0,r.jsx)("div",{className:tY().emptyState,children:(0,r.jsx)(tT.Z,{icon:(0,r.jsx)(p.J,{name:"icon-document-xmark-24"}),text:i(f.ZT.Task.NoTasks)})}):null,n?(0,r.jsx)(tq.Z,{minimumTime:350,size:30}):t.tasks&&(0,r.jsx)(tX.Z,{data:t.tasks})]})]})},t0=n(19671),t1=n.n(t0);function t2(e){let{children:t}=e,{isGuardianModeActive:n}=(0,s.Tt)();(0,l.fb)({path:"/hub",label:(0,d.Z)("Hem")});let u=(0,s.zP)(),h=(0,c.dJ)(),{isEmployee:m,isTeacher:_,isStudent:g,isGuardian:p}=(0,s.ih)(),f=(0,s.a9)(),x=(0,o.Z)("(max-width: 1000px)"),{settings:b}=(0,a.rV)(),v=u?.type_of_schooling==="Preschool",Z=u?.type_of_schooling==="Elementary",k=i.p5.hasChildcare(f)||v&&g,C=h.has("event_read"),{shouldShowHubFab:w}=y();return(0,r.jsxs)(l.T3,{bottomSafeArea:w?"always":void 0,children:[t,(0,r.jsxs)("div",{className:t1().hub,children:[(0,r.jsxs)("div",{className:t1().hub__column,children:[!x&&(0,r.jsx)(ti,{}),(0,r.jsx)(tj,{}),(0,r.jsx)(tS,{})]}),(0,r.jsxs)("div",{className:t1().hub__column,children:[v&&p?null:C?(0,r.jsx)(tp,{}):(0,r.jsx)("div",{}),v||Z&&n&&k?(0,r.jsx)(et,{}):null,(g||m)&&x?(0,r.jsx)(tH,{}):null]}),(0,r.jsxs)("div",{className:t1().hub__column,children:[_&&!v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tJ,{}),(0,r.jsx)(U,{})]}):null,!v&&(n||g)?(0,r.jsx)(tG,{}):null,n&&k?b.NewChildcare?(0,r.jsx)(ev,{}):(0,r.jsx)(t$,{}):null,!v&&n?(0,r.jsx)(X,{}):null,(g||m)&&!x?(0,r.jsx)(tH,{}):null]}),w?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(j,{})}):null]})]})}},12870:function(e,t,n){"use strict";n.d(t,{X:function(){return u},o:function(){return d}});var r=n(57748),s=n(12157),a=n(21009),i=n(2261),o=n(99210),l=n(26821),c=n(63583);let d=e=>{let t=e.isCalledFromHub?5:25,{limit:n,offset:o}=(0,i.Z)({initialSize:t}),d=(0,l.NL)(),{isEmployee:u,isGuardian:h}=(0,a.ih)(),m={params:{like:{title:e.title},in:{user_group_ids:e.userGroupID?[e.userGroupID]:void 0,blog_tag_ids:e.blogTagIDs&&e.blogTagIDs.length>0?e.blogTagIDs:void 0,user_ids:e.userIDs&&e.userIDs.length>0?e.userIDs:void 0},smaller_or_equal:{publish_at:"Published"===e.publishStatus?s.Z.getUTC():void 0},greater_than:{publish_at:"Scheduled"===e.publishStatus?s.Z.getUTC():void 0},empty:{publish_at:"Draft"===e.publishStatus||void 0}},order_by:"Draft"!==e.publishStatus?{publish_at:{index:0,desc:!0}}:{created_at:{index:0,desc:!0}},limit:n,offset:o},_=r.$6.useListBlogPostsAsEmployeeInfiniteQuery(e=>({query:{...m,offset:e}}),{enabled:u,placeholderData:c.Wk}),g=r.$6.useListBlogPostsAsGuardianInfiniteQuery(e=>({query:{...m,offset:e}}),{enabled:h,placeholderData:c.Wk}),p=u?_:g;return{blogPosts:p.data?.pages.flatMap(e=>e.blog_posts)??[],isPending:p.isPending,hasNextPage:p.hasNextPage,fetchNextPage:p.fetchNextPage,removeBlogPost:()=>{u&&d.invalidateQueries({queryKey:p.queryKey})}}},u=()=>{let{searchValue:e,setSearchValue:t,debouncedSearchValue:n}=(0,o.Z)(),{data:s}=r.$6.useListBlogTagsQuery({query:{params:{like:{title:n}}}});return{blogTags:s?.blog_tags??[],searchValue:e,setSearchValue:t}}},5087:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(i,o)}l((r=r.apply(e,t||[])).next())})},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let a=s(n(22795));function i(e,t="maxAge"){let n,s,i;let o=()=>r(this,void 0,void 0,function*(){if(void 0!==n)return;let o=o=>r(this,void 0,void 0,function*(){i=a.default();let r=o[1][t]-Date.now();if(r<=0){e.delete(o[0]),i.resolve();return}return n=o[0],"function"==typeof(s=setTimeout(()=>{e.delete(o[0]),i&&i.resolve()},r)).unref&&s.unref(),i.promise});try{for(let t of e)yield o(t)}catch(e){}n=void 0}),l=()=>{n=void 0,void 0!==s&&(clearTimeout(s),s=void 0),void 0!==i&&(i.reject(void 0),i=void 0)},c=e.set.bind(e);return e.set=(t,r)=>{e.has(t)&&e.delete(t);let s=c(t,r);return n&&n===t&&l(),o(),s},o(),e}t.default=i,e.exports=i,e.exports.default=i},60967:function(e,t,n){"use strict";let r=n(83809),s=n(5087),a=new WeakMap,i=new WeakMap,o=(e,{cacheKey:t,cache:n=new Map,maxAge:a}={})=>{"number"==typeof a&&s(n);let o=function(...r){let s=t?t(r):r[0],i=n.get(s);if(i)return i.data;let o=e.apply(this,r);return n.set(s,{data:o,maxAge:a?Date.now()+a:Number.POSITIVE_INFINITY}),o};return r(o,e,{ignoreNonConfigurable:!0}),i.set(o,n),o};o.decorator=(e={})=>(t,n,r)=>{let s=t[n];if("function"!=typeof s)throw TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!a.has(this)){let t=o(s,e);return a.set(this,t),t}return a.get(this)}},o.clear=e=>{let t=i.get(e);if(!t)throw TypeError("Can't clear a function that was not memoized!");if("function"!=typeof t.clear)throw TypeError("The cache Map can't be cleared!");t.clear()},e.exports=o},83809:function(e){"use strict";let t=(e,t,r,s)=>{if("length"===r||"prototype"===r||"arguments"===r||"caller"===r)return;let a=Object.getOwnPropertyDescriptor(e,r),i=Object.getOwnPropertyDescriptor(t,r);(n(a,i)||!s)&&Object.defineProperty(e,r,i)},n=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},r=(e,t)=>{let n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)},s=(e,t)=>`/* Wrapped ${e}*/
${t}`,a=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),i=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),o=(e,t,n)=>{let r=""===n?"":`with ${n.trim()}() `,o=s.bind(null,r,t.toString());Object.defineProperty(o,"name",i),Object.defineProperty(e,"toString",{...a,value:o})};e.exports=(e,n,{ignoreNonConfigurable:s=!1}={})=>{let{name:a}=e;for(let r of Reflect.ownKeys(n))t(e,n,r,s);return r(e,n),o(e,n,a),e}},22795:function(e){"use strict";e.exports=()=>{let e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}},1042:function(e,t,n){"use strict";var r=n(27573),s=n(45531),a=n.n(s),i=n(7653),o=n(28650),l=n(91237),c=n.n(l);let d=(0,i.forwardRef)((e,t)=>{let{startIcon:n,endIcon:s,children:i,...l}=e;return(0,r.jsxs)(o.Z,{...l,ref:t,className:a()(c().fab,l.className,{[c()["fab--only-icon"]]:void 0===i}),children:[n,i,s]})});t.Z=d},94869:function(e,t,n){"use strict";var r=n(27573),s=n(45531),a=n.n(s),i=n(90589),o=n.n(i);t.Z=e=>{let{className:t}=e;return(0,r.jsxs)("div",{className:a()(o().bar,t),children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})}},14375:function(e,t,n){"use strict";var r=n(27573),s=n(45531),a=n.n(s),i=n(2393),o=n(58948),l=n.n(o),c=n(20185);let d=e=>{let{children:t,variant:n,size:s="md",activeTab:o,onChange:d,className:u}=e;return(0,r.jsx)("nav",{className:a()(l().segmentedControl,u,{[l()["segmentedControl--brand"]]:"brand"===n,[l()["segmentedControl--neutral"]]:"neutral"===n,[l()["segmentedControl--size-sm"]]:"sm"===s,[l()["segmentedControl--size-md"]]:"md"===s}),children:t.map(e=>{if(e.props.hidden)return null;let t=e.props.value===o;return(0,r.jsx)("button",{type:"button",className:a()(l().segmentedControl__placeholder,{active:t}),onClick:()=>{d(e.props.value)},children:(0,r.jsxs)("div",{className:l().segmentedControl__tab,children:[e.props.label,void 0!==e.props.count?(0,r.jsx)(i.Z,{count:e.props.count,variant:(0,c.G)(n,t)}):null]})},e.props.value)})})};d.Tab=e=>null,t.Z=d},20941:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(27573),s=n(71539),a=n(45531),i=n.n(a),o=n(7653),l=n(839),c=n(12853),d=n.n(c),u=n(29602),h=n.n(u),m=n(79162),_=n(92575),g=n(91138),p=n(25913);let f=(0,o.createContext)({onClose:()=>{},labelId:"",descriptionId:""}),x=()=>(0,o.useContext)(f);var y=n(50896),b=n.n(y),v=n(88607),j=n.n(v),Z=n(59245),k=n(72025),C=n(96844),w=n.n(C),S=Object.assign(e=>{let{open:t,onClose:n,overlayDisabled:a=!1,children:l}=e,{refs:c,context:d}=(0,s.YF)({open:t,onOpenChange:n}),u=(0,s.bQ)(d,{outsidePressEvent:"click"}),h=(0,s.qs)(d),{getFloatingProps:m}=(0,s.NI)([u,h]),_=(0,o.useId)(),g=(0,o.useId)(),{isMounted:p,status:x}=(0,s.hU)(d,{duration:k.t});return p?(0,r.jsx)(f.Provider,{value:{onClose:n,labelId:_,descriptionId:g},children:(0,r.jsx)(s.ll,{children:(0,r.jsx)(s.y0,{lockScroll:!0,className:i()(w().overlay,{[w()["overlay--open"]]:!a&&"open"===x}),children:(0,r.jsx)(s.wD,{context:d,children:(0,r.jsx)("div",{ref:c.setFloating,className:i()(w().sidePanel,{[w()["sidePanel--open"]]:"open"===x,[w()["sidePanel--overlay-disabled"]]:a}),"aria-labelledby":_,"aria-describedby":g,...m(),children:l})})})})}):null},{Header:e=>{let{mobileCloseButtonLabel:t,children:n,onBack:s}=e,{onClose:a}=x(),{t:i}=(0,_.T_)();return(0,r.jsxs)("div",{className:b().sidePanelHeader,children:[(0,r.jsxs)("div",{className:b().sidePanelHeader__startSection,children:[s?(0,r.jsx)(p.Z,{variant:"secondary",size:"xs",onClick:s,pill:!0,"aria-label":i(_.ZT.Common.Back),children:(0,r.jsx)(m.J,{name:"icon-chevron-left-16"})}):null,(0,r.jsx)("div",{children:n})]}),(0,r.jsx)(p.Z,{variant:"secondary",size:"xs",onClick:a,pill:!0,"aria-label":i(_.ZT.Common.Close),className:b().sidePanelHeader__desktopCloseButton,children:(0,r.jsx)(m.J,{name:"icon-xmark-16"})}),(0,r.jsx)(g.Z,{variant:"tertiary",size:"lg",onClick:a,className:b().sidePanelHeader__mobileCloseButton,children:t??i(_.ZT.Common.Cancel)})]})},Title:e=>{let{children:t}=e,{labelId:n}=x();return(0,r.jsx)("h1",{id:n,className:Z.X.Heading_LG,children:t})},Subtitle:e=>{let{children:t}=e,{descriptionId:n}=x();return(0,r.jsx)("h2",{id:n,className:j().sidePanel__subtitle,children:t})},Content:e=>{let{className:t,children:n}=e;return(0,r.jsx)(l.Z,{className:i()(d().sidePanel__content,t),children:n})},Footer:e=>{let{children:t,className:n}=e;return(0,r.jsx)("div",{className:i()(h().sidePanel__footer,n),children:t})}})},26187:function(e,t,n){"use strict";var r=n(7653),s=n(72025);t.Z=e=>{let[t,n]=(0,r.useState)(e?.defaultOpen??!1);return{isOpen:t,open:(0,r.useCallback)(()=>{n(!0)},[]),close:(0,r.useCallback)(t=>{(!e?.onAttemptClose||t?.force||e.onAttemptClose())&&(n(!1),e?.afterClose&&setTimeout(e.afterClose,s.t))},[e])}}},69809:function(e,t,n){"use strict";n.d(t,{Z:function(){return et}});var r=n(27573),s=n(79162),a=n(92575),i=n(84946),o=n(29843),l=n(45531),c=n.n(l),d=n(7653),u=n(94869),h=n(35992),m=n(839),_=n(74934);let g=(e,t,n)=>{let r=n.toLowerCase(),s=e.getValue(t);return"number"==typeof s&&(s=String(s)),s?.toLowerCase().includes(r)},p=e=>e?.reduce((e,t)=>({...e,[t]:!1}),{}),f=e=>e.filter(e=>e.meta?.pinned).map(e=>void 0!==e.id?e.id:"accessorKey"in e&&"string"==typeof e.accessorKey?e.accessorKey:void 0).filter(_.Z.isNotNullish),x=e=>e.getIsPinned(),y=e=>{switch(e.columnDef.meta?.pinned){case"always":return 2;case"desktop":return 1;default:return 0}},b=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getIsPinned();return{left:"left"===n?e.getStart("left"):void 0,position:n?"sticky":"relative",minWidth:e.getSize(),zIndex:y(e),backgroundColor:n&&!t?"var(--color-surface-base-body)":void 0}};var v=n(8230),j=n(9612),Z=n.n(j),k=e=>({id:"select",header:t=>{let{table:n}=t;return e?null:(0,r.jsx)(v.Z,{checked:n.getIsAllRowsSelected(),onChange:n.getToggleAllRowsSelectedHandler(),size:"sm"})},cell:e=>{let{row:t}=e;return(0,r.jsx)("div",{className:Z().checkboxCell,role:"button",tabIndex:0,onKeyDown:e=>{"Enter"===e.key&&t.toggleSelected()},onClick:()=>{t.toggleSelected()},children:(0,r.jsx)(v.Z,{checked:t.getIsSelected(),onChange:t.getToggleSelectedHandler(),size:"sm",tabIndex:-1})})},size:49,meta:{pinned:"always",disablePadding:!0}}),C=n(59245),w=n(35725),S=n(89358);let T=[25,50,100,200],N=(e,t)=>1===e?1:(e-1)*t+1,I=e=>{let{currentPage:t,paginationSize:n,paginationResponse:r,totalNumberOfPages:s}=e;return t===s?r.total_count:t*n},D=(e,t)=>Array.from({length:t-e+1},(t,n)=>e+n),H=(e,t)=>{let n=D(1,t).filter(n=>1===n||n===t||n===e||n===e-1||n===e+1);return e>3&&n.splice(1,0,-1),e<t-2&&n.splice(n.length-1,0,-1),n};var P=n(2158),O=n.n(P),F=e=>{let{onChangeSize:t,onChangePage:n,pagination:a,paginationResponse:i}=e,o=a.page,l=a.size,d=Math.ceil(i.total_count/l),u=H(o,d);return(0,r.jsxs)("footer",{className:O().tableFooter,children:[(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:C.X.Label_SM_Regular,children:(0,w.Z)(`${N(o,l)} - ${I({currentPage:o,paginationSize:l,paginationResponse:i,totalNumberOfPages:d})}
                    av ${i.total_count}`)})}),(0,r.jsxs)("div",{className:O().tableFooter__pageSelector,children:[(0,r.jsx)("button",{type:"submit",disabled:1===o,"aria-label":(0,w.Z)("F\xf6reg\xe5ende sida"),className:O().tableFooter__page,onClick:()=>{n(o-1)},children:(0,r.jsx)(s.J,{name:"icon-chevron-left-16"})}),u.map(e=>-1===e?(0,r.jsx)("div",{className:O().tableFooter__ellipsis,children:(0,r.jsx)(s.J,{name:"icon-ellipsis-horizontal-16"})},e):(0,r.jsx)("button",{type:"button","aria-label":e.toString(),className:c()(O().tableFooter__page,O()["tableFooter__page--number"],{[O()["tableFooter__page--selected"]]:e===o}),onClick:()=>{n(e)},children:e},e)),(0,r.jsx)("button",{type:"submit","aria-label":(0,w.Z)("N\xe4sta sida"),className:O().tableFooter__page,disabled:o===d,onClick:()=>{n(o+1)},children:(0,r.jsx)(s.J,{name:"icon-chevron-right-16"})})]}),(0,r.jsxs)("div",{className:O().tableFooter__sizeSelector,children:[(0,r.jsx)("p",{className:C.X.Label_SM_Regular,children:(0,w.Z)("Rader per sida")}),(0,r.jsx)(S.Z,{"aria-label":(0,w.Z)("Antal rader per sida"),value:l,onChangeValue:e=>{t(Number(e)),n(1)},className:C.X.Inputtext_SM_Regular,size:"sm",children:T.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]})]})},L=n(25913),E=n(54697),W=n.n(E),M=e=>{let{onChangeSize:t,onChangePage:n,pagination:a,paginationResponse:i}=e,o=a.page,l=a.size,c=Math.ceil(i.total_count/l);return(0,r.jsxs)("footer",{className:W().tableFooter,children:[(0,r.jsxs)("div",{className:W().tableFooter__pagination,children:[(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:C.X.Label_SM_Regular,children:(0,w.Z)(`${N(o,l)} - ${I({currentPage:o,paginationSize:l,paginationResponse:i,totalNumberOfPages:c})}
                    av ${i.total_count}`)})}),(0,r.jsxs)("div",{className:W().tableFooter__paginationRange,children:[(0,r.jsx)(L.Z,{variant:"tertiary",size:"lg",disabled:1===o,"aria-label":(0,w.Z)("F\xf6reg\xe5ende sida"),className:C.X.Label_SM_Regular,onClick:()=>{n(o-1)},pill:!0,children:(0,r.jsx)(s.J,{name:"icon-chevron-left-24"})}),(0,r.jsx)(L.Z,{variant:"tertiary",size:"lg","aria-label":(0,w.Z)("N\xe4sta sida"),className:C.X.Label_SM_Regular,disabled:o===c,onClick:()=>{n(o+1)},pill:!0,children:(0,r.jsx)(s.J,{name:"icon-chevron-right-24"})})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)(S.Z,{"aria-label":(0,w.Z)("Antal rader per sida"),value:l,onChangeValue:e=>{t(Number(e)),n(1)},className:C.X.Inputtext_SM_Regular,children:T.map(e=>(0,r.jsx)("option",{value:e,children:l===e?`Rader per sida (${e})`:e},e))})})]})},A=n(29772),B=n.n(A);let z=e=>"asc"===e?"icon-arrow-up-tiny-16":"desc"===e?"icon-arrow-down-tiny-16":"icon-chevron-up-down-16";var R=e=>{let{header:t,className:n}=e,a=t.column,o=z(a.getIsSorted()),l=a.getCanSort(),d=a.columnDef.meta?.highlight;return(0,r.jsx)("th",{colSpan:t.colSpan,"aria-label":a.columnDef.meta?.pinned==="always"?a.columnDef.meta?.ariaLabel:void 0,className:c()(n,{[B().highlighted]:d}),style:b(t.column,!0),children:t.isPlaceholder?(0,r.jsx)("div",{className:B().placeholderCell}):l?(0,r.jsxs)("button",{type:"button",onClick:a.getToggleSortingHandler(),className:c()(C.X.Label_XS_Semibold,B().sortable),children:[(0,i.ie)(a.columnDef.header,t.getContext()),(0,r.jsx)(s.J,{name:o})]}):(0,r.jsx)("div",{className:c()(C.X.Label_XS_Semibold),children:(0,i.ie)(a.columnDef.header,t.getContext())})},t.id)},$=n(10058),U=n.n($);let J=["select"];var V=e=>{let{cell:t,onRowClick:n,row:s}=e,a=t.column.columnDef.meta?.highlight,o=e=>{n&&"Enter"===e.key&&n(s.original)};return J.includes(t.column.id)||t.column.columnDef.meta?.disableClick||!n?(0,r.jsx)("div",{className:c()(C.X.Label_SM_Regular,{[U().highlighted]:a}),children:(0,i.ie)(t.column.columnDef.cell,t.getContext())}):(0,r.jsx)("div",{onClick:()=>{n&&n(s.original)},onKeyDown:e=>{o(e)},role:"button",tabIndex:0,className:c()(C.X.Label_SM_Regular,{[U().highlighted]:a}),children:(0,i.ie)(t.column.columnDef.cell,t.getContext())})},q=n(49660),X=e=>{let{value:t,onChange:n}=e,{t:i}=(0,a.T_)(),[o,l]=(0,d.useState)("");return(0,d.useEffect)(()=>{l(t)},[t]),(0,d.useEffect)(()=>{let e=setTimeout(()=>{n(o)},300);return()=>{clearTimeout(e)}},[o,n]),(0,r.jsx)(q.Z,{variant:"filled",size:"sm","aria-label":i(a.ZT.Common.Search),placeholder:i(a.ZT.Common.Search),startDecorator:(0,r.jsx)(s.J,{name:"icon-magnifying-glass-16"}),value:o,onChangeValue:l})},K=n(9770),Q=n.n(K),Y=e=>{let{title:t,subtitle:n}=e;return(0,r.jsxs)("header",{className:Q().tableHeadings,children:[(0,r.jsx)("h2",{className:C.X.Heading_XL,children:t}),n?(0,r.jsx)("h3",{className:C.X.Paragraph_SM_Regular,children:n}):null]})},G=n(87486),ee=n.n(G),et=(0,d.forwardRef)((e,t)=>{let{className:n,columns:l,data:_,defaultSorting:y,disableSelectAll:v=!1,enableFooter:j=!1,fullHeight:Z=!1,headerContent:C,headerRight:w,headings:S,hiddenColumns:T,isLoading:N,onChangeOrder:I,onChangePage:D,onChangeQuery:H,onChangeSelected:P,onChangeSize:O,onRowClick:L,onUpdateData:E,pagination:W,paginationResponse:A,searchable:B=!0,selectable:z=!1}=e,{t:$}=(0,a.T_)(),[U,J]=(0,d.useState)({}),[q,K]=(0,d.useState)(""),[Q,G]=(0,d.useState)(!1),[et,en]=(0,d.useState)(y??[]),er=(0,d.useMemo)(()=>[...z?[k(v)]:[],...l],[l,z,v]),es=(0,d.useMemo)(()=>p(T),[T]),ea=f(er),ei=(0,i.b7)({data:_,columns:er,initialState:{columnPinning:{left:ea}},state:{globalFilter:q,sorting:et,rowSelection:U,columnVisibility:es},globalFilterFn:g,onSortingChange:en,onGlobalFilterChange:K,getCoreRowModel:(0,o.sC)(),getFilteredRowModel:(0,o.vL)(),getSortedRowModel:(0,o.tj)(),manualSorting:!!I,manualFiltering:!!H,onRowSelectionChange:J,getRowId:e=>e.id,meta:{updateData:E,t:$}}),eo=ei.getRowCount();(0,d.useEffect)(()=>{P&&P(ei.getSelectedRowModel().flatRows.map(e=>e.id))},[ei,U]),(0,d.useEffect)(()=>{I&&(I(et&&et.length>0?et:[]),D?.(1))},[I,D,et]),(0,d.useEffect)(()=>{H&&(H(q),D&&D(1))},[H,D,q]),(0,d.useImperativeHandle)(t,()=>ei);let el=Object.keys(U),ec=A&&D&&O&&W,ed=eo>0&&ec,eu=e=>c()({[ee().pinnedColumn]:x(e),[ee().alwaysPinned]:e.columnDef.meta?.pinned==="always",[ee().disableBorderInlineEnd]:e.columnDef.meta?.disableBorderInlineEnd,[ee().disablePaddingInlineStart]:e.columnDef.meta?.disablePaddingInlineStart,[ee().disablePadding]:e.columnDef.meta?.disablePadding});return(0,r.jsxs)("div",{className:c()(ee().container,n,{[ee()["container--fullHeight"]]:Z,[ee()["container--scrolled"]]:Q}),children:[S?(0,r.jsx)(Y,{title:S.title,subtitle:S.subtitle}):null,(0,r.jsxs)("div",{className:c()(ee().header,{[ee().header__reverseOrder]:C?.position==="bottom"}),children:[C?(0,r.jsx)("div",{className:ee().header__content,children:C.content}):null,(0,r.jsxs)("div",{className:ee().header__actions,children:[(0,r.jsx)("div",{children:B?(0,r.jsx)(X,{value:q,onChange:K}):null}),w]})]}),(0,r.jsxs)(m.Z,{role:"grid",className:c()(ee().scrollable,{[ee()["scrollable--empty"]]:0===eo,[ee()["scrollable--no-footer"]]:!ed}),onScroll:e=>{e.currentTarget.scrollLeft>0?G(!0):Q&&G(!1)},children:[N?(0,r.jsx)("div",{className:ee().loadingBar,children:(0,r.jsx)(u.Z,{})}):null,(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:ei.getHeaderGroups().map(e=>(0,r.jsx)("tr",{children:e.headers.map(e=>(0,r.jsx)(R,{header:e,className:eu(e.column)},e.id))},e.id))}),(0,r.jsx)("tbody",{children:ei.getRowModel().rows.map(e=>(0,r.jsx)("tr",{className:c()({[ee().selected]:el.includes(e.id)}),children:e.getVisibleCells().map(t=>(0,r.jsx)("td",{className:eu(t.column),style:b(t.column),children:(0,r.jsx)(V,{row:e,cell:t,onRowClick:L})},t.id))},e.id))}),j?(0,r.jsx)("tfoot",{children:ei.getFooterGroups().map(e=>(0,r.jsx)("tr",{children:e.headers.map(e=>(0,r.jsx)("th",{children:e.isPlaceholder?null:(0,i.ie)(e.column.columnDef.footer,e.getContext())},e.id))},e.id))}):null]}),0===eo?(0,r.jsx)("div",{className:ee().empty,children:(0,r.jsx)(h.Z,{text:$(a.ZT.Table.NoDataAvailable),icon:(0,r.jsx)(s.J,{name:"icon-charts-24"})})}):null]}),ed?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:ee().desktopFooter,children:(0,r.jsx)(F,{pagination:W,paginationResponse:A,onChangePage:D,onChangeSize:O})}),(0,r.jsx)("div",{className:ee().mobileFooter,children:(0,r.jsx)(M,{pagination:W,paginationResponse:A,onChangePage:D,onChangeSize:O})})]}):null]})})},78195:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(27573),s=n(71539),a=n(49660),i=n(94268),o=n(31283),l=n(79162),c=n(7653),d=n(35725),u=n(12157);let h=(e,t)=>!t||u.Z.isoHourToMinutes(e)<=u.Z.isoHourToMinutes(t),m=(e,t)=>!t||u.Z.isoHourToMinutes(e)>=u.Z.isoHourToMinutes(t),_=(e,t)=>{let n=e.trim(),r=n.match(/^(\d{1,2})(?::(\d{0,2}))?$/);if(!r)return e;if(t&&3===n.length)return`${n}00`;let s=r[1]??"00",a=r[2]??"00",i=s?Number(s):0,o=a?Number(a):0;(i<0||i>23)&&(s="00"),(o<0||o>59)&&(a="00");let l=1===a.length;return l&&o<6&&(a=`${o}0`),l&&o>5&&(a="00"),`${s}:${a}`},g=e=>{let{inputValue:t,minTime:n,maxTime:r,errors:s}=e;if(5!==t.length)return;let a=!n||p({inputValue:t,time:n,errors:s}),i=!r||f({inputValue:t,time:r,errors:s});a&&i&&s.clear()},p=e=>{let{inputValue:t,time:n,errors:r}=e,s=m(t,n);return s||r.new((0,d.Z)(`Kan ej vara tidigare \xe4n ${n}`)),s},f=e=>{let{inputValue:t,time:n,errors:r}=e,s=h(t,n);return s||r.new((0,d.Z)(`Kan ej vara senare \xe4n ${n}`)),s};var x=(0,c.forwardRef)((e,t)=>{let{value:n,defaultValue:d,onChange:u,onChangeValue:h,placeholder:m="HH:MM",minTime:p,maxTime:f,...x}=e,{inputRef:y,setInputValue:b}=(0,i.Z)(),v=(0,s.qq)([y,t]),[j,Z]=(0,c.useState)(n||d||""),k=(0,o.Z)();return(0,c.useEffect)(()=>{g({inputValue:j,minTime:p,maxTime:f,errors:k})},[p,f,j,k]),(0,c.useEffect)(()=>{void 0!==n&&(b(n),Z(n))},[n,b]),(0,c.useEffect)(()=>{void 0!==d&&(b(d),Z(d))},[d,b]),(0,r.jsx)(a.Z,{...x,error:e.error?e.error:null!==k.text?k.text:void 0,ref:v,onChange:e=>{let t=e.currentTarget.value;1===t.length&&k.clear(),(t=t.replace(/[^0-9:]/g,"")).length>2&&!t.includes(":")&&(t=`${t.slice(0,2)}:${t.slice(2)}`);let n=Number(t[0]);1===t.length&&n>2&&(t=`0${t}:`),5===t.length&&g({inputValue:t,minTime:p,maxTime:f,errors:k}),b(t),Z(t),u?.(e),h?.(t)},onBlur:t=>{e.onBlur&&e.onBlur(t);let n=_(t.currentTarget.value,!0);b(n),Z(n),u?.(t),h?.(n)},inputMode:"numeric",placeholder:m,maxLength:5,autoComplete:"off",startDecorator:(0,r.jsx)(l.J,{name:"icon-clock-circle-outline-16"})})})},80580:function(e,t,n){"use strict";n.d(t,{Z:function(){return Q}});var r=n(27573),s=n(72103),a=n(59245),i=n(94910),o=n(54218),l=n(44783),c=n(92250),d=n(61290),u=n(85339),h=n(79601),m=n(68921),_=n(64747),g=n(79105),p=n(87626),f=n(3215),x=n(10830),y=n(50283),b=n(6200),v=n(9307),j=n(68652),Z=n(43015),k=n(31461),C=n(45531),w=n.n(C),S=n(7653),T=n(58971),N=n(24297),I=n(79367),D=n(42274),H=n(69702),P=n(41608),O=n(79162),F=n(92575),L=n(35725),E=n(49660),W=n(91138),M=n(53920),A=n.n(M),B=e=>{let{url:t,onSave:n}=e,{t:s}=(0,F.T_)(),a=(0,S.useRef)(null),[i,o]=(0,S.useState)(""),l=()=>{let e=i.trim();e.includes("http://")||e.includes("https://")||(e=`https://${e}`),n(e)};return(0,S.useEffect)(()=>{o(t)},[t]),a.current?.focus(),(0,r.jsxs)("div",{className:A().floatingLinkEditor,children:[(0,r.jsx)(E.Z,{ref:a,label:(0,L.Z)("URL"),value:i,onChangeValue:o,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),l())},autoFocus:!0}),(0,r.jsx)(W.Z,{variant:"primary",size:"md",onClick:l,children:s(F.ZT.Common.Save)})]})},z=n(79191),R=n.n(z);let $=new N.Ip,U=(0,S.forwardRef)((e,t)=>{let{selected:n,onClick:s,iconName:a,tooltip:i,...o}=e;return(0,r.jsx)(D.Z,{title:i,children:(0,r.jsx)(H.Z,{className:w()(R().toolbarItem,{[R()["toolbarItem--selected"]]:n}),onClick:s,ref:t,"aria-label":i,...o,children:(0,r.jsx)("span",{className:R().toolbarItem__icon,children:(0,r.jsx)(O.J,{name:a})})})})}),J=e=>{let{editor:t}=e,[n,s]=(0,S.useState)(!1);return(0,r.jsxs)(P.ZP.Root,{open:n,onChangeOpen:s,children:[(0,r.jsx)(P.ZP.Target,{children:(0,r.jsx)(U,{tooltip:(0,L.Z)("L\xe4nk"),selected:t?.isActive("link"),iconName:"icon-link-16"})}),(0,r.jsx)(P.ZP.Element,{children:(0,r.jsx)(B,{url:t?.getAttributes("link").href,onSave:e=>{t?.chain().focus().setLink({href:e}).run(),s(!1)}})})]})},V=e=>{let{editor:t}=e,n=(0,S.useRef)(null),s=async e=>{let n=e.target.files?.[0];if(!n)return;e.target.value=null;let r=await $.create({file:n});t?.chain().focus().setImage({src:r.uploaded.url}).createParagraphNear().run()};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"file",accept:"image/*",hidden:!0,ref:n,onChange:s}),(0,r.jsx)(U,{tooltip:(0,L.Z)("Bild"),onClick:()=>n.current?.click(),iconName:"icon-image-16"})]})};var q=e=>{let{editor:t,disabledExtensions:n}=e,{t:s}=(0,F.T_)();return(0,r.jsxs)("div",{className:R().toolbar,children:[(0,r.jsxs)("div",{className:R().toolbar__group,children:[(0,r.jsx)(U,{tooltip:s(F.ZT.Draft.H1),onClick:()=>{if(t?.isActive("heading",{level:1})){t?.chain().focus().setParagraph().run();return}t?.chain().focus().setHeading({level:1}).run()},selected:t?.isActive("heading",{level:1}),iconName:"icon-heading1-16"}),(0,r.jsx)(U,{tooltip:s(F.ZT.Draft.H2),onClick:()=>{if(t?.isActive("heading",{level:2})){t?.chain().focus().setParagraph().run();return}t?.chain().focus().setHeading({level:2}).run()},selected:t?.isActive("heading",{level:2}),iconName:"icon-heading2-16"}),(0,r.jsx)(U,{tooltip:s(F.ZT.Draft.H3),onClick:()=>{if(t?.isActive("heading",{level:3})){t?.chain().focus().setParagraph().run();return}t?.chain().focus().setHeading({level:3}).run()},selected:t?.isActive("heading",{level:3}),iconName:"icon-heading3-16"}),(0,r.jsx)(U,{tooltip:s(F.ZT.Draft.BulletedList),onClick:()=>t?.chain().focus().toggleBulletList().run(),selected:t?.isActive("bulletList"),iconName:"icon-list-bullet-16"}),(0,r.jsx)(U,{tooltip:s(F.ZT.Draft.NumberedList),onClick:()=>t?.chain().focus().toggleOrderedList().run(),selected:t?.isActive("orderedList"),iconName:"icon-list-numbered-16"}),(0,r.jsx)(U,{tooltip:s(F.ZT.Draft.Codeblock),onClick:()=>t?.chain().focus().toggleCodeBlock().run(),selected:t?.isActive("codeBlock"),iconName:"icon-code-block-16"})]}),(0,r.jsx)(I.Z,{orientation:"vertical",size:12,margin:12}),(0,r.jsxs)("div",{className:R().toolbar__group,children:[(0,r.jsx)(U,{tooltip:s(F.ZT.Draft.Bold),onClick:()=>t?.chain().focus().toggleBold().run(),selected:t?.isActive("bold"),iconName:"icon-bold-16"}),(0,r.jsx)(U,{tooltip:s(F.ZT.Draft.Cursive),onClick:()=>t?.chain().focus().toggleItalic().run(),selected:t?.isActive("italic"),iconName:"icon-italic-16"}),(0,r.jsx)(U,{tooltip:s(F.ZT.Draft.Underline),onClick:()=>t?.chain().focus().toggleUnderline().run(),selected:t?.isActive("underline"),iconName:"icon-underline-16"}),(0,r.jsx)(U,{tooltip:s(F.ZT.Draft.Strikethrough),onClick:()=>t?.chain().focus().toggleStrike().run(),selected:t?.isActive("strike"),iconName:"icon-strikethrough-16"})]}),(0,r.jsx)(I.Z,{orientation:"vertical",size:12,margin:12}),(0,r.jsxs)("div",{className:R().toolbar__group,children:[n?.includes("ImageUpload")?null:(0,r.jsx)(V,{editor:t}),(0,r.jsx)(J,{editor:t}),(0,r.jsx)(U,{tooltip:(0,L.Z)("Ta bort l\xe4nk"),onClick:()=>t?.chain().focus().unsetLink().run(),iconName:"icon-unlink-16"}),(0,r.jsx)(U,{tooltip:(0,L.Z)("Kod"),onClick:()=>t?.chain().focus().toggleCode().run(),selected:t?.isActive("code"),iconName:"icon-code-16"})]})]})},X=n(59016),K=n.n(X),Q=(0,S.forwardRef)((e,t)=>{let{label:n,description:C,showAsterix:N=!1,disabled:I=!1,placeholder:D,defaultValue:H,disabledExtensions:P=[],error:O,autofocus:F=!1,id:L,onBlur:E,onSubmit:W,onChange:M}=e,A=(0,S.useRef)(!1),B=(0,k.jE)({autofocus:F,editable:!I,immediatelyRender:!0,content:H??"",extensions:[u.Z,y.Z,j.Z,h.Z,o.ZP,g.ZP,Z.Z,v.ZP,c.ZP,l.ZP,x.ZP,f.Z,i.ZP,d.ZP,_.ZP,m.Z,p.ZP.configure({openOnClick:!1}),b.Z.configure({placeholder:D??"",showOnlyWhenEditable:!1})],onUpdate:e=>{let{editor:t}=e;A.current=!0,M?.(T.H(t))}});return(0,S.useImperativeHandle)(t,()=>{if(B)return{getContent:()=>(0,T.H)(B),clearContent:()=>B.commands.setContent(""),setContent:e=>{B.commands.setContent(e)},insertText:e=>B.commands.insertContent(e),focus:()=>B.chain().focus().run()}}),(0,S.useEffect)(()=>{B&&void 0!==H&&!A.current&&B?.commands.setContent(H??"",!1)},[H,B]),(0,S.useEffect)(()=>{B?.setOptions({editorProps:{handleKeyDown:(e,t)=>{W&&"Enter"===t.key&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),W(T.H(B)))}}})},[B,W]),(0,S.useEffect)(()=>{B?.setEditable(!I,!1)},[I,B]),(0,r.jsxs)(s.Z.Wrapper,{children:[n||C?(0,r.jsxs)("div",{children:[n?(0,r.jsxs)("p",{className:w()(K().label,a.X.Label_SM_Semibold,{[K()["label--disabled"]]:I}),children:[n,N?" *":null]}):null,C?(0,r.jsx)(s.Z.Description,{children:C}):null]}):null,(0,r.jsxs)("div",{className:w()(K().editor,{[K()["editor--disabled"]]:I,[K()["editor--error"]]:!!O}),children:[I?null:(0,r.jsx)(q,{editor:B,disabledExtensions:P}),(0,r.jsx)(k.kg,{editor:B,onBlur:()=>{E?.(T.H(B))},className:"editor-content",id:L})]}),O&&"boolean"!=typeof O?(0,r.jsx)(s.Z.Error,{children:O}):null]})})},58971:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});let r=e=>{let t=e?.getHTML().replaceAll("<p></p>","<p><br></p>")??"";return{content:null===e||""===e.getText()?"":t,text:e?.getText()??"",content_type:"html",converter:"tiptap"}}},2278:function(e,t,n){"use strict";n.d(t,{WC:function(){return a},_E:function(){return s},iX:function(){return i}});var r=n(57748);let s=()=>{let{data:e,refetch:t}=r.te.useListNotesQuery({query:{}}),n=e?.notes??[],s=n.filter(e=>!e.done),a=n.filter(e=>e.done);return{notes:n,activeNotes:s,doneNotes:a,refetch:t}},a=e=>{let{limit:t}=e,{data:n,isPending:s,refetch:a}=r.te.useListNotesQuery({query:{params:{equals:{done:!1}},limit:t}});return{notes:n?.notes??[],refetch:a,isPending:s}},i=e=>{let t=r.te.useGetNoteQuery({id:e??""},{enabled:void 0!==e});return{note:t.data?.note}}},39063:function(e,t,n){"use strict";var r=n(27573),s=n(42274),a=n(20886),i=n(92575),o=n(35725);let l=(e,t)=>e.startsAt?`${e.startsAt} - ${e.endsAt??""}`:t?"":(0,o.Z)("Ledig");t.Z=e=>{let{day:t,baseOpeningHours:n,openingHours:c,style:d,errorStyle:u,noTimes:h,closed:m}=e,{t:_}=(0,i.T_)(),g=t.startsAt||null,p=t.endsAt||null;if(m)return(0,r.jsx)("span",{style:d,children:_(i.ZT.Childcare.Closed)});let{startsAtValid:f,endsAtValid:x,maximumTime:y,minimumTime:b}=a.QS.weekDayOutsideOpeningHours({startsAt:g,endsAt:p,dayName:t.dayName,openingHours:c,baseOpeningHours:n});if(!g)return(0,r.jsx)("span",{style:d,children:l(t,h)});let v={...d,fontWeight:"bold",textDecoration:"underline",...u};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{title:(0,o.Z)(!f&&b?`\xd6ppnar ${b}`:""),children:(0,r.jsx)("span",{style:f?d:v,children:g})}),(0,r.jsx)("span",{style:f||x?d:v,children:" - "}),(0,r.jsx)(s.Z,{title:(0,o.Z)(!x&&y?`St\xe4nger ${y}`:""),children:(0,r.jsx)("span",{style:x?d:v,children:p})})]})}},78882:function(e,t,n){"use strict";n.d(t,{K0:function(){return l},ww:function(){return s},Q:function(){return a}});var r=n(57748);let s=e=>r.C1.useGetWorkspaceQuery({id:e||""},{enabled:!!e});var a=(0,n(66641).Ue)()(e=>({selectedCourseIDByWorkspaceID:{},setSelectedCourseIDByWorkspaceID:(t,n)=>{e(e=>({selectedCourseIDByWorkspaceID:{...e.selectedCourseIDByWorkspaceID,[t]:n}}))}})),i=n(12157);class o{static #e=this.isUserModeratorOfWorkspace=(e,t)=>!!e&&e.moderator_user_ids.includes(t);static #t=this.getColor=e=>e.color?e.color:"var(--color-surface-userselect-category6-lighter)";static #n=this.hasWorkspaceEnded=e=>!e||null!==e.end_date&&i.Z.before(e.end_date)}var l=o},88724:function(e,t){"use strict";var n;(function(e){class t{constructor(e){this.has=e=>!!this.permissions&&!!this.permissions.organization.permissions[e],this.permissions=e}}e.Organization=t;class n{constructor(e,t){this.has=e=>!!(this.permissions&&this.permissions.group.group_ids.includes(this.groupID))&&!!this.permissions.group.permissions[e],this.permissions=e,this.groupID=t}}e.Group=n;class r{constructor(e,t){this.has=e=>!!(this.permissions&&this.permissions.workspace.workspace_ids.includes(this.workspaceID))&&!!this.permissions.workspace.permissions[e],this.permissions=e,this.workspaceID=t}}e.Workspace=r;class s{constructor(e,t){this.has=e=>!!this.permissions&&(this.userID&&this.userID!==this.permissions.user.user_id?this.userID===this.permissions.user_student?.user_id&&!!this.permissions.user_student.permissions[e]:!!this.permissions.user.permissions[e]),this.permissions=e,this.userID=t}}e.User=s})(n||(n={})),t.Z=n},11815:function(e,t,n){"use strict";n.d(t,{Cs:function(){return i},Qe:function(){return o},dJ:function(){return a}});var r=n(88724),s=n(89752);let a=()=>{let e=(0,s.Z)(e=>e.permissions);return new r.Z.Organization(e)},i=e=>{let t=(0,s.Z)(e=>e.permissions);return new r.Z.Group(t,e)},o=e=>{let t=(0,s.Z)(e=>e.permissions);return new r.Z.User(t,e)}},89752:function(e,t,n){"use strict";let r=(0,n(66641).Ue)()(e=>({permissions:void 0,setPermissions:t=>{e({permissions:t})},addWorkspacePermission:t=>{e(e=>e.permissions?{permissions:{...e.permissions,workspace:{...e.permissions.workspace,workspace_ids:e.permissions.workspace.workspace_ids.concat(t)}}}:{})}}));t.Z=r},71837:function(e){e.exports={"taskStatus--success":"style_taskStatus--success__Z1ofe","taskStatus--warning":"style_taskStatus--warning__UHE3_","taskStatus--error":"style_taskStatus--error__tQLjx","taskStatus--info":"style_taskStatus--info__uyG3_","taskStatus--neutral":"style_taskStatus--neutral__VueOp","taskStatus--neutralLightest":"style_taskStatus--neutralLightest__qPjxm",taskStatus:"style_taskStatus__shoyS"}},27181:function(e){e.exports={tasksViewListItem:"style_tasksViewListItem__jeIXP",tasksViewListItem__container:"style_tasksViewListItem__container__YkMPB",tasksViewListItem__workspace:"style_tasksViewListItem__workspace__ITF7l",tasksViewListItem__status:"style_tasksViewListItem__status__U3K7z",tasksViewListItem__deadline:"style_tasksViewListItem__deadline__U3_CY",tasksViewListItem__arrow:"style_tasksViewListItem__arrow__ANlwT",columnBreak:"style_columnBreak__KrnTl",tasksViewListItem__title:"style_tasksViewListItem__title__CtZoh",verticalDivider:"style_verticalDivider__JWqUV"}},17287:function(e){e.exports={hubCard:"style_hubCard__s7IvW","hubCard--padded":"style_hubCard--padded__qbPXG",hubCard__item:"style_hubCard__item__qDgQc",hubCard__itemStripe:"style_hubCard__itemStripe__o1OPV"}},21993:function(e){e.exports={mobileFab:"style_mobileFab__L3nNG",sheetActions:"style_sheetActions__szs4_",sheetActions__item:"style_sheetActions__item__vVNst",desktopFab:"style_desktopFab__GnNHj"}},41218:function(e){e.exports={sectionHeader:"style_sectionHeader__C_tjA"}},95158:function(e){e.exports={blogPosts:"style_blogPosts__wn_2B"}},75051:function(e){e.exports={dateSection:"style_dateSection__W7dzZ",clock:"style_clock__Inr37"}},17560:function(e){e.exports={eventItem:"style_eventItem__azabE","eventItem--cancelled":"style_eventItem--cancelled__g91jS"}},52211:function(e){e.exports={mealItem:"style_mealItem__mEkaq"}},47382:function(e){e.exports={newsTitle:"style_newsTitle__55eP4"}},58210:function(e){e.exports={noteItem:"style_noteItem__6IHWF",noteItem__inner:"style_noteItem__inner__6NKt_",noteItem__options:"style_noteItem__options__ZJTQz",notes__body:"style_notes__body__2VlPf",emptyState:"style_emptyState__7Ffyd"}},22151:function(e){e.exports={childcareCommentBox:"style_childcareCommentBox__rAoZL"}},13280:function(e){e.exports={emptyState:"style_emptyState__Ucqke"}},19671:function(e){e.exports={hub:"style_hub__DJpsn",hub__column:"style_hub__column__vQCRi"}},74321:function(e){e.exports={hubCard:"style_hubCard__7Hvzw"}},79626:function(e){e.exports={hubCardBody:"style_hubCardBody__KhZbC","hubCardBody--loading":"style_hubCardBody--loading__1xkt9"}},42713:function(e){e.exports={hubCardFooter:"style_hubCardFooter__fFcN_"}},85629:function(e){e.exports={hubCardHeader:"style_hubCardHeader__mSbTd"}},63549:function(e){e.exports={hubCardAction:"style_hubCardAction__Nimgg"}},90589:function(e){e.exports={bar:"style_bar__R2yIW",start:"style_start__H2ydv",growBar1:"style_growBar1__H0Ebk",moveBar1:"style_moveBar1__SdBHs",growBar2:"style_growBar2__TSeTq",moveBar2:"style_moveBar2__Qzvhf"}},96844:function(e){e.exports={overlay:"style_overlay__Ip_RF","overlay--open":"style_overlay--open__NG3rn",sidePanel:"style_sidePanel__1GFgb","sidePanel--overlay-disabled":"style_sidePanel--overlay-disabled__n1yHi","sidePanel--open":"style_sidePanel--open__lFD0a"}},12853:function(e){e.exports={sidePanel__content:"style_sidePanel__content__Ym5fe"}},29602:function(e){e.exports={sidePanel__footer:"style_sidePanel__footer__IHq7C"}},50896:function(e){e.exports={sidePanelHeader:"style_sidePanelHeader__uLuHo",sidePanelHeader__startSection:"style_sidePanelHeader__startSection__NMcFB",sidePanelHeader__desktopCloseButton:"style_sidePanelHeader__desktopCloseButton__30brD",sidePanelHeader__mobileCloseButton:"style_sidePanelHeader__mobileCloseButton__1PheJ"}},88607:function(e){e.exports={sidePanel__subtitle:"style_sidePanel__subtitle__HQPlk"}},9612:function(e){e.exports={checkboxCell:"style_checkboxCell__24_WZ"}},2158:function(e){e.exports={tableFooter:"style_tableFooter__isqqT",tableFooter__pageSelector:"style_tableFooter__pageSelector__gIwwu",tableFooter__page:"style_tableFooter__page__h6fJP","tableFooter__page--number":"style_tableFooter__page--number__P6tg9","tableFooter__page--selected":"style_tableFooter__page--selected__arCcp",tableFooter__ellipsis:"style_tableFooter__ellipsis___L3oN",tableFooter__sizeSelector:"style_tableFooter__sizeSelector___NiFZ"}},54697:function(e){e.exports={tableFooter:"style_tableFooter__ojKNk",tableFooter__pagination:"style_tableFooter__pagination__YK6L1",tableFooter__paginationRange:"style_tableFooter__paginationRange__Z8q6n"}},29772:function(e){e.exports={placeholderCell:"style_placeholderCell__U7dvo",sortable:"style_sortable__4M7cS",highlighted:"style_highlighted__7o7ZH"}},10058:function(e){e.exports={highlighted:"style_highlighted__mJKRq"}},9770:function(e){e.exports={tableHeadings:"style_tableHeadings___TYfn"}},87486:function(e){e.exports={container:"style_container__LE9XI","container--fullHeight":"style_container--fullHeight___tqvD",selected:"style_selected__a1igw",disableBorderInlineEnd:"style_disableBorderInlineEnd__28vyB",disablePaddingInlineStart:"style_disablePaddingInlineStart__1rFf1",disablePadding:"style_disablePadding__JRg1r",scrollable:"style_scrollable__ByTH6","scrollable--no-footer":"style_scrollable--no-footer__agIU6","scrollable--empty":"style_scrollable--empty__AGhaG",header:"style_header__mCT9P",header__reverseOrder:"style_header__reverseOrder__181T1",header__content:"style_header__content__DwJ3F",header__actions:"style_header__actions__MHLzB",loadingBar:"style_loadingBar__ZyvfG",mobileFooter:"style_mobileFooter__NgMe0",empty:"style_empty__MhutD",pinnedColumn:"style_pinnedColumn__WD31X","container--scrolled":"style_container--scrolled__ubA98",alwaysPinned:"style_alwaysPinned__LMlgO",desktopFooter:"style_desktopFooter__TCEbk"}},53920:function(e){e.exports={floatingLinkEditor:"style_floatingLinkEditor__v62ix"}},79191:function(e){e.exports={toolbar:"style_toolbar___bf2a",toolbar__group:"style_toolbar__group__5Y4Oe",toolbarItem:"style_toolbarItem__nNlaH",toolbarItem__icon:"style_toolbarItem__icon__KKgdv","toolbarItem--selected":"style_toolbarItem--selected__y53Ly"}},59016:function(e){e.exports={label:"style_label__ic7CG","label--disabled":"style_label--disabled__GenBA",editor:"style_editor__Z__gG","editor--disabled":"style_editor--disabled__R3jRb","editor--error":"style_editor--error__Q8M1W"}},57908:function(e,t,n){"use strict";t.Z=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=function e(t){var n,r,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(n=0;n<a;n++)t[n]&&(r=e(t[n]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r)}return s}(e))&&(r&&(r+=" "),r+=t);return r}}},function(e){e.O(0,[4031,4563,879,9383,2639,9230,9407,4449,21,3412,2920,2822,9267,9262,1339,6709,2747,9730,3436,8521,433,5779,6809,8854,3327,9954,3076,3514,8224,3694,1515,7078,1844,6825,6379,9656,4126,8369,6248,9237,9498,2599,2983,9666,8370,1210,4162,7723,5806,1586,4933,1979,99,5198,8927,9220,247,1437,3631,5292,9066,2758,9902,9802,3849,6822,1809,3951,114,5566,2781,2077,4694,3824,3639,8513,4467,9138,5809,3304,4265,5016,9481,3667,6281,7611,5431,4488,3657,7468,5584,9533,2453,4946,6448,5733,7254,2592,2053,42,2142,6165,9646,4172,943,5176,550,2432,5898,1293,3829,560],function(){return e(e.s=46360)}),_N_E=e.O()}]);